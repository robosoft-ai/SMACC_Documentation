\hypertarget{smacc__rviz__display_8h_source}{}\doxysection{smacc\+\_\+rviz\+\_\+display.\+h}
\label{smacc__rviz__display_8h_source}\index{smacc\_diagnostics/smacc\_rviz\_plugin/src/smacc\_rviz\_display.h@{smacc\_diagnostics/smacc\_rviz\_plugin/src/smacc\_rviz\_display.h}}
\mbox{\hyperlink{smacc__rviz__display_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00001}00001 \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00002}00002 \textcolor{comment}{ * Copyright (c) 2012, Willow Garage, Inc.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00003}00003 \textcolor{comment}{ * All rights reserved.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00004}00004 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00005}00005 \textcolor{comment}{ * Redistribution and use in source and binary forms, with or without}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00006}00006 \textcolor{comment}{ * modification, are permitted provided that the following conditions are met:}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00007}00007 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00008}00008 \textcolor{comment}{ *     * Redistributions of source code must retain the above copyright}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00009}00009 \textcolor{comment}{ *       notice, this list of conditions and the following disclaimer.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00010}00010 \textcolor{comment}{ *     * Redistributions in binary form must reproduce the above copyright}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00011}00011 \textcolor{comment}{ *       notice, this list of conditions and the following disclaimer in the}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00012}00012 \textcolor{comment}{ *       documentation and/or other materials provided with the distribution.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00013}00013 \textcolor{comment}{ *     * Neither the name of the Willow Garage, Inc. nor the names of its}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00014}00014 \textcolor{comment}{ *       contributors may be used to endorse or promote products derived from}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00015}00015 \textcolor{comment}{ *       this software without specific prior written permission.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00016}00016 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00017}00017 \textcolor{comment}{ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "{}AS IS"{}}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00018}00018 \textcolor{comment}{ * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00019}00019 \textcolor{comment}{ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00020}00020 \textcolor{comment}{ * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00021}00021 \textcolor{comment}{ * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00022}00022 \textcolor{comment}{ * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00023}00023 \textcolor{comment}{ * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00024}00024 \textcolor{comment}{ * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00025}00025 \textcolor{comment}{ * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00026}00026 \textcolor{comment}{ * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00027}00027 \textcolor{comment}{ * POSSIBILITY OF SUCH DAMAGE.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00028}00028 \textcolor{comment}{ */}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00030}00030 \textcolor{preprocessor}{\#ifndef IMU\_DISPLAY\_H}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00031}00031 \textcolor{preprocessor}{\#define IMU\_DISPLAY\_H}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00032}00032 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00033}00033 \textcolor{preprocessor}{\#ifndef Q\_MOC\_RUN}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00034}00034 \textcolor{preprocessor}{\#include <ros/ros.h>}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00035}00035 \textcolor{preprocessor}{\#include <ros/network.h>}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00036}00036 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00038}00038 \textcolor{preprocessor}{\#include <boost/circular\_buffer.hpp>}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00039}00039 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00040}00040 \textcolor{preprocessor}{\#include <smacc\_msgs/SmaccStatus.h>}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00041}00041 \textcolor{preprocessor}{\#include <rviz/message\_filter\_display.h>}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00042}00042 \textcolor{preprocessor}{\#include <rviz/ogre\_helpers/arrow.h>}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00043}00043 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00045}00045 \textcolor{keyword}{using namespace }Ogre;}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00046}00046 \textcolor{keyword}{using namespace }rviz;}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00047}00047 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00048}00048 \textcolor{comment}{// All the source in this plugin is in its own namespace.  This is not}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00049}00049 \textcolor{comment}{// required but is good practice.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00050}00050 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacesmacc__rviz__plugin}{smacc\_rviz\_plugin}}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00051}00051 \{}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00052}00052 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00053}00053 \textcolor{keyword}{class }ImuVisual;}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00055}00055 \textcolor{comment}{// BEGIN\_TUTORIAL}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00056}00056 \textcolor{comment}{// Here we declare our new subclass of rviz::Display.  Every display}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00057}00057 \textcolor{comment}{// which can be listed in the "{}Displays"{} panel is a subclass of}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00058}00058 \textcolor{comment}{// rviz::Display.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00059}00059 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00060}00060 \textcolor{comment}{// SmaccRvizDisplay will show a 3D arrow showing the direction and magnitude}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00061}00061 \textcolor{comment}{// of the IMU acceleration vector.  The base of the arrow will be at}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00062}00062 \textcolor{comment}{// the frame listed in the header of the Imu message, and the}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00063}00063 \textcolor{comment}{// direction of the arrow will be relative to the orientation of that}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00064}00064 \textcolor{comment}{// frame.  It will also optionally show a history of recent}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00065}00065 \textcolor{comment}{// acceleration vectors, which will be stored in a circular buffer.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00066}00066 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00067}00067 \textcolor{comment}{// The SmaccRvizDisplay class itself just implements the circular buffer,}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00068}00068 \textcolor{comment}{// editable parameters, and Display subclass machinery.  The visuals}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00069}00069 \textcolor{comment}{// themselves are represented by a separate class, ImuVisual.  The}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00070}00070 \textcolor{comment}{// idiom for the visuals is that when the objects exist, they appear}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00071}00071 \textcolor{comment}{// in the scene, and when they are deleted, they disappear.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00072}\mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay}{00072}} \textcolor{keyword}{class }\mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay}{SmaccRvizDisplay}}: \textcolor{keyword}{public} rviz::Display}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00073}00073 \{}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00074}00074 Q\_OBJECT}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00075}00075 \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00076}00076   \textcolor{comment}{// Constructor.  pluginlib::ClassLoader creates instances by calling}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00077}00077   \textcolor{comment}{// the default constructor, so make sure you have one.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00078}00078   \mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_a57d912b6eeec19a0654546bb011fb593}{SmaccRvizDisplay}}();}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00079}00079   \textcolor{keyword}{virtual} \mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_aebda19712c75b75a31e90272f472a7e3}{\string~SmaccRvizDisplay}}();}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00080}00080 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00081}00081   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_ad774027ba3eda277c991619332495cbb}{subscribe}}();}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00082}00082   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_a49a35acd10a664a8335ef5852f8c115c}{unsubscribe}}();}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00083}00083 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00084}00084   \textcolor{comment}{// Overrides of protected virtual functions from Display.  As much}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00085}00085   \textcolor{comment}{// as possible, when Displays are not enabled, they should not be}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00086}00086   \textcolor{comment}{// subscribed to incoming data and should not show anything in the}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00087}00087   \textcolor{comment}{// 3D view.  These functions are where these connections are made}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00088}00088   \textcolor{comment}{// and broken.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00089}00089 \textcolor{keyword}{protected}:}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00090}00090   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_a8a041fe0d0e88fa0219204c85831d10e}{onInitialize}}();}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00091}00091 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00092}00092   \textcolor{comment}{// A helper to clear this display back to the initial state.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00093}00093   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_af9cf4f5ef4f5fdb2fcb1bf1a81cdac4d}{reset}}();}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00094}00094 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00095}00095   \textcolor{comment}{// These Qt slots get connected to signals indicating changes in the user-\/editable properties.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00096}00096 \textcolor{keyword}{private} Q\_SLOTS:}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00097}00097   \textcolor{keywordtype}{void} \mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_a6031090e46077a5e95754b5f70ea639a}{updateCurrentState}}();}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00098}00098   \textcolor{keywordtype}{void} \mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_adf332ae95bd83969b33ba713a60832fd}{updateTopic}}();}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00099}00099 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00100}00100   \textcolor{comment}{// Function to handle an incoming ROS message.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00101}00101 \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00102}00102 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00103}00103   \textcolor{keywordtype}{void} \mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_acc7281b99c92fa89f7494f6ca53e4905}{processMessage}}( \textcolor{keyword}{const} smacc\_msgs::SmaccStatus::ConstPtr\& msg );}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00104}00104 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00105}00105   \textcolor{comment}{// Storage for the list of visuals.  It is a circular buffer where}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00106}00106   \textcolor{comment}{// data gets popped from the front (oldest) and pushed to the back (newest)}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00107}00107   \textcolor{comment}{//boost::circular\_buffer<boost::shared\_ptr<ImuVisual> > visuals\_;}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00108}00108 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00109}00109   \textcolor{comment}{// User-\/editable property variables.}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00110}00110   \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00111}00111 \textcolor{comment}{  rviz::ColorProperty* color\_property\_;}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00112}00112 \textcolor{comment}{  rviz::FloatProperty* alpha\_property\_;}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00113}00113 \textcolor{comment}{  rviz::IntProperty* history\_length\_property\_;}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00114}00114 \textcolor{comment}{  */}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00115}00115 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00116}\mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_a342ff238c1dfaa427f09ee205a9e92d5}{00116}}   rviz::StringProperty* \mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_a342ff238c1dfaa427f09ee205a9e92d5}{current\_state\_}};}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00117}\mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_ad81e5239e1343b2ba01ee16d1f010932}{00117}}   rviz::RosTopicProperty* \mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_ad81e5239e1343b2ba01ee16d1f010932}{topic\_property\_}} ;}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00118}\mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_a077ef80f5698d21376b2d211f95ab73d}{00118}}   ros::NodeHandle \mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_a077ef80f5698d21376b2d211f95ab73d}{nh\_}};}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00119}\mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_abae6e8df8428a072d1de2c59dd4f9cd4}{00119}}   ros::Subscriber \mbox{\hyperlink{classsmacc__rviz__plugin_1_1SmaccRvizDisplay_abae6e8df8428a072d1de2c59dd4f9cd4}{sub\_}};}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00120}00120 \};}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00121}00121 \textcolor{comment}{// END\_TUTORIAL}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00122}00122 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00123}00123 \} \textcolor{comment}{// end namespace rviz\_plugin\_tutorials}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00124}00124 }
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00125}00125 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// IMU\_DISPLAY\_H}}
\DoxyCodeLine{\Hypertarget{smacc__rviz__display_8h_source_l00126}00126 \textcolor{comment}{// \%EndTag(FULL\_SOURCE)\%}}

\end{DoxyCode}
