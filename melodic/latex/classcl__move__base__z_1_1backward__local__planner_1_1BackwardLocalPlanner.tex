\hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner}{}\doxysection{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::Backward\+Local\+Planner Class Reference}
\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner}\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}


{\ttfamily \#include $<$backward\+\_\+local\+\_\+planner.\+h$>$}



Inheritance diagram for cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::Backward\+Local\+Planner\+:
% FIG 0


Collaboration diagram for cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::Backward\+Local\+Planner\+:
% FIG 1
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79e73a858b2a13c7fe10c52e08568fd6}{Backward\+Local\+Planner}} ()
\item 
virtual \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6a36aa94617786c6958e861e64abb862}{$\sim$\+Backward\+Local\+Planner}} ()
\item 
virtual \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a25437208766366ca22f967fe72e80988}{compute\+Velocity\+Commands}} (geometry\+\_\+msgs\+::\+Twist \&cmd\+\_\+vel) override
\begin{DoxyCompactList}\small\item\em Given the current position, orientation, and velocity of the robot\+: compute velocity commands to send to the robot mobile base. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06a99e609ed31b97f765351dd6827722}{is\+Goal\+Reached}} () override
\begin{DoxyCompactList}\small\item\em Check if the goal pose has been achieved by the local planner. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab11a0eec45f24b5a5a3987a50427eed4}{set\+Plan}} (const std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&plan) override
\begin{DoxyCompactList}\small\item\em Set the plan that the local planner is following. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae7659aa099ce5a329a9ef046dabcc599}{initialize}} (std\+::string name, tf\+::\+Transform\+Listener $\ast$tf, costmap\+\_\+2d\+::\+Costmap2\+DROS $\ast$\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmap\+Ros\+\_\+}})
\begin{DoxyCompactList}\small\item\em Constructs the local planner. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9a854ad7d93c5db2efda316358aa845c}{initialize}} (std\+::string name, tf2\+\_\+ros\+::\+Buffer $\ast$tf, costmap\+\_\+2d\+::\+Costmap2\+DROS $\ast$\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmap\+Ros\+\_\+}})
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5c9815019cef272faed835cd8c575196}{initialize}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a62e4783adae03ce92190d855a021b91d}{reconfig\+CB}} (\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+Config \&config, uint32\+\_\+t level)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0025cd3ffaa04a6a02492a33673a78a1}{find\+Initial\+Carrot\+Goal}} (tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&pose)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a16e79a1b4c0f18879f6f0a8ba67103fd}{update\+Carrot\+Goal}} (const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&tfpose)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a100fe8bdaaf89b0fa54ecf2aef0966ed}{resample\+Precise\+Plan}} ()
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6069866b4a3150883de3212d8e43e8f8}{straight\+Backwards\+And\+Pure\+Spin\+Cmd}} (const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&tfpose, double vetta, double gamma, double alpha\+\_\+error, double betta\+\_\+error, double rho\+\_\+error, geometry\+\_\+msgs\+::\+Twist \&cmd\+\_\+vel)
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1ebd69a028a22e3573e98f89d593f97d}{default\+Backward\+Cmd}} (const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&tfpose, double vetta, double gamma, double alpha\+\_\+error, double betta\+\_\+error, geometry\+\_\+msgs\+::\+Twist \&cmd\+\_\+vel)
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a70eaeb6cf31fd3378d9fbf9bcb975995}{publish\+Goal\+Marker}} (double x, double y, double phi)
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal}} (const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&tfpose, double \&dist, double \&angular\+\_\+error)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a8b84e3961a79317a9c978ec054e4a112}{check\+Current\+Pose\+In\+Goal\+Range}} (const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&tfpose, double angle\+\_\+error, \mbox{\hyperlink{classbool}{bool}} \&in\+Linear\+Goal)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a35832ebefc43e5977e1222389244c8d3}{reset\+Divergence\+Detection}} ()
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab1b01ecdb27641dde60661362d75465b}{divergence\+Detection\+Update}} (const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&tfpose)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a22938e354a4ec489101295ed7f2539f6}{check\+Carrot\+Half\+Plain\+Constraint}} (const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&tfpose)
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9e8921ca8ce379ca8ba321f82ca23cdc}{generate\+Trajectory}} (const Eigen\+::\+Vector3f \&pos, const Eigen\+::\+Vector3f \&vel, float maxdist, float maxangle, float maxtime, float dt, std\+::vector$<$ Eigen\+::\+Vector3f $>$ \&outtraj)
\item 
Eigen\+::\+Vector3f \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0fe2ebd23fd79e8b574127e819ef0e14}{compute\+New\+Positions}} (const Eigen\+::\+Vector3f \&pos, const Eigen\+::\+Vector3f \&vel, double dt)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
dynamic\+\_\+reconfigure\+::\+Server$<$\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+Config $>$ \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb349461ce9c4edee018dbb822a8cd9a}{param\+Server\+\_\+}}
\item 
dynamic\+\_\+reconfigure\+::\+Server$<$\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+Config $>$\+::\+Callback\+Type \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aebafa83dd5fced64dc2239919a3ab8d8}{f}}
\item 
std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwards\+Plan\+Path\+\_\+}}
\item 
costmap\+\_\+2d\+::\+Costmap2\+DROS $\ast$ \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmap\+Ros\+\_\+}}
\item 
ros\+::\+Publisher \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79f0ddfa686e2cd47bbc2f0bac9f3d4c}{goal\+Marker\+Publisher\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}{k\+\_\+rho\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf7a5a56de2ee41afba7e63c0628ec35}{k\+\_\+alpha\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\+\_\+betta\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a957d163366cfeaf20d5534a7208fc326}{pure\+\_\+spinning\+\_\+allowed\+\_\+betta\+\_\+error\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a858efacf597a3a35c97aec9ca53e5900}{linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad443c52ef585a8eab0364f0909222f51}{goal\+Reached\+\_\+}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa0e2b0589fce0bb228eb87751528e822}{initial\+Pure\+Spinning\+Stage\+\_\+}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a04febb67563add6f715051a94aed1b9b}{straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+}} = false
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a154043366660cc02ec758dda32817511}{enable\+\_\+obstacle\+\_\+checking\+\_\+}} = true
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}{in\+Goal\+Pure\+Spinning\+State\+\_\+}} = false
\item 
const double \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a09765b08935d9355447c44776e1b1c3a}{alpha\+\_\+offset\+\_\+}} = M\+\_\+\+PI
\item 
const double \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a07e5f16f6951cca1e6d3483f345d0bb1}{betta\+\_\+offset\+\_\+}} = 0
\item 
double \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\+\_\+goal\+\_\+tolerance\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\+\_\+goal\+\_\+tolerance\+\_\+}}
\item 
\mbox{\hyperlink{backward__local__planner_8h_ab6024a26b088c11b8a5218a469ae5a57}{meter}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\+\_\+distance\+\_\+}}
\item 
\mbox{\hyperlink{backward__local__planner_8h_a640effbe91ae9b25d698a883a9e80d96}{rad}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\+\_\+angular\+\_\+distance\+\_\+}}
\item 
\mbox{\hyperlink{backward__local__planner_8h_ab6024a26b088c11b8a5218a469ae5a57}{meter}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}{divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}{max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}{max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+}}
\item 
int \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{current\+Carrot\+Pose\+Index\+\_\+}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a00849266e4bdd9379c3717e8a41c303e}{waiting\+\_\+}}
\item 
ros\+::\+Duration \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0c15da985f7f051164adb643c03a0c90}{waiting\+Timeout\+\_\+}}
\item 
ros\+::\+Time \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abe08faab5b784fcf64ac6b3f936459f1}{waiting\+Stamp\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00023}{23}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79e73a858b2a13c7fe10c52e08568fd6}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79e73a858b2a13c7fe10c52e08568fd6}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!BackwardLocalPlanner@{BackwardLocalPlanner}}
\index{BackwardLocalPlanner@{BackwardLocalPlanner}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{BackwardLocalPlanner()}{BackwardLocalPlanner()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::\+Backward\+Local\+Planner (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79e73a858b2a13c7fe10c52e08568fd6}{Backward\+Local\+Planner()}} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00020}{20}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00021             : \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb349461ce9c4edee018dbb822a8cd9a}{paramServer\_}}(ros::NodeHandle(\textcolor{stringliteral}{"{}\string~BackwardLocalPlanner"{}}))}
\DoxyCodeLine{00022         \{}
\DoxyCodeLine{00023         \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6a36aa94617786c6958e861e64abb862}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6a36aa94617786c6958e861e64abb862}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!````~BackwardLocalPlanner@{$\sim$BackwardLocalPlanner}}
\index{````~BackwardLocalPlanner@{$\sim$BackwardLocalPlanner}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{$\sim$BackwardLocalPlanner()}{~BackwardLocalPlanner()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::$\sim$\+Backward\+Local\+Planner (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6a36aa94617786c6958e861e64abb862}{$\sim$\+Backward\+Local\+Planner()}} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00030}{30}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00031         \{}
\DoxyCodeLine{00032         \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a22938e354a4ec489101295ed7f2539f6}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a22938e354a4ec489101295ed7f2539f6}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!checkCarrotHalfPlainConstraint@{checkCarrotHalfPlainConstraint}}
\index{checkCarrotHalfPlainConstraint@{checkCarrotHalfPlainConstraint}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{checkCarrotHalfPlainConstraint()}{checkCarrotHalfPlainConstraint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::check\+Carrot\+Half\+Plain\+Constraint (\begin{DoxyParamCaption}\item[{const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{tfpose }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00212}{212}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00213         \{}
\DoxyCodeLine{00214             \textcolor{comment}{// this function is specially useful when we want to reach the goal with a lot}}
\DoxyCodeLine{00215             \textcolor{comment}{// of precision. We may pass the goal and then the controller enters in some}}
\DoxyCodeLine{00216             \textcolor{comment}{// unstable state. With this, we are able to detect when stop moving.}}
\DoxyCodeLine{00217 }
\DoxyCodeLine{00218             \textcolor{comment}{// only apply if the carrot is in goal position and also if we are not in a pure spinning behavior v!=0}}
\DoxyCodeLine{00219 }
\DoxyCodeLine{00220             \textcolor{keyword}{auto} \&carrot\_pose = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}[\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}}];}
\DoxyCodeLine{00221             \textcolor{keyword}{const} geometry\_msgs::Point \&carrot\_point = carrot\_pose.pose.position;}
\DoxyCodeLine{00222             \textcolor{keywordtype}{double} yaw = tf::getYaw(carrot\_pose.pose.orientation);}
\DoxyCodeLine{00223 }
\DoxyCodeLine{00224             \textcolor{comment}{// direction vector}}
\DoxyCodeLine{00225             \textcolor{keywordtype}{double} vx = cos(yaw);}
\DoxyCodeLine{00226             \textcolor{keywordtype}{double} vy = sin(yaw);}
\DoxyCodeLine{00227 }
\DoxyCodeLine{00228             \textcolor{comment}{// line implicit equation}}
\DoxyCodeLine{00229             \textcolor{comment}{// ax + by + c = 0}}
\DoxyCodeLine{00230             \textcolor{keywordtype}{double} c = -\/vx * carrot\_point.x -\/ vy * carrot\_point.y;}
\DoxyCodeLine{00231             \textcolor{keyword}{const} \textcolor{keywordtype}{double} C\_OFFSET\_METERS = 0.05; \textcolor{comment}{// 5 cm}}
\DoxyCodeLine{00232             \textcolor{keywordtype}{double} check = vx * tfpose.getOrigin().x() + vy * tfpose.getOrigin().y() + c + C\_OFFSET\_METERS;}
\DoxyCodeLine{00233 }
\DoxyCodeLine{00234             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] half plane constraint:"{}} << vx << \textcolor{stringliteral}{"{}*"{}} << carrot\_point.x << \textcolor{stringliteral}{"{} + "{}} << vy << \textcolor{stringliteral}{"{}*"{}} << carrot\_point.y << \textcolor{stringliteral}{"{} + "{}} << c);}
\DoxyCodeLine{00235             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] constraint evaluation: "{}} << vx << \textcolor{stringliteral}{"{}*"{}} << tfpose.getOrigin().x() << \textcolor{stringliteral}{"{} + "{}} << vy << \textcolor{stringliteral}{"{}*"{}} << tfpose.getOrigin().y() << \textcolor{stringliteral}{"{} + "{}} << c << \textcolor{stringliteral}{"{} = "{}} << check);}
\DoxyCodeLine{00236 }
\DoxyCodeLine{00237             \textcolor{keywordflow}{return} check < 0;}
\DoxyCodeLine{00238         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00096}{backwards\+Plan\+Path\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8h_source_l00127}{current\+Carrot\+Pose\+Index\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}.

Here is the caller graph for this function\+:
% FIG 2
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a8b84e3961a79317a9c978ec054e4a112}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a8b84e3961a79317a9c978ec054e4a112}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!checkCurrentPoseInGoalRange@{checkCurrentPoseInGoalRange}}
\index{checkCurrentPoseInGoalRange@{checkCurrentPoseInGoalRange}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{checkCurrentPoseInGoalRange()}{checkCurrentPoseInGoalRange()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::check\+Current\+Pose\+In\+Goal\+Range (\begin{DoxyParamCaption}\item[{const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{tfpose,  }\item[{double}]{angle\+\_\+error,  }\item[{\mbox{\hyperlink{classbool}{bool}} \&}]{in\+Linear\+Goal }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00240}{240}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00241         \{}
\DoxyCodeLine{00242             \textcolor{keyword}{auto} \&finalgoal = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.back();}
\DoxyCodeLine{00243             \textcolor{keywordtype}{double} gdx = finalgoal.pose.position.x -\/ tfpose.getOrigin().x();}
\DoxyCodeLine{00244             \textcolor{keywordtype}{double} gdy = finalgoal.pose.position.y -\/ tfpose.getOrigin().y();}
\DoxyCodeLine{00245             \textcolor{keywordtype}{double} goaldist = sqrt(gdx * gdx + gdy * gdy);}
\DoxyCodeLine{00246 }
\DoxyCodeLine{00247             \textcolor{keyword}{auto} abs\_angle\_error = fabs(angle\_error);}
\DoxyCodeLine{00248             \textcolor{comment}{// final\_alpha\_error =}}
\DoxyCodeLine{00249             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] goal check. linear dist: "{}} << goaldist << \textcolor{stringliteral}{"{}("{}} << this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_}} << \textcolor{stringliteral}{"{})"{}}}
\DoxyCodeLine{00250                                                                                 << \textcolor{stringliteral}{"{}, angular dist: "{}} << abs\_angle\_error << \textcolor{stringliteral}{"{}("{}} << this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}} << \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00251 }
\DoxyCodeLine{00252             linearGoalReached = goaldist < this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_}};}
\DoxyCodeLine{00253 }
\DoxyCodeLine{00254             \textcolor{keywordflow}{if} (abs\_angle\_error < this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}}) \textcolor{comment}{// 5cm}}
\DoxyCodeLine{00255             \{}
\DoxyCodeLine{00256                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00257             \}}
\DoxyCodeLine{00258 }
\DoxyCodeLine{00259             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00260         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00096}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00117}{xy\+\_\+goal\+\_\+tolerance\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8h_source_l00116}{yaw\+\_\+goal\+\_\+tolerance\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}.

Here is the caller graph for this function\+:
% FIG 3
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!computeCurrentEuclideanAndAngularErrorsToCarrotGoal@{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}}
\index{computeCurrentEuclideanAndAngularErrorsToCarrotGoal@{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{computeCurrentEuclideanAndAngularErrorsToCarrotGoal()}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal (\begin{DoxyParamCaption}\item[{const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{tfpose,  }\item[{double \&}]{dist,  }\item[{double \&}]{angular\+\_\+error }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00099}{99}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00100         \{}
\DoxyCodeLine{00101             \textcolor{keywordtype}{double} angle = tf::getYaw(tfpose.getRotation());}
\DoxyCodeLine{00102             \textcolor{keyword}{auto} \&carrot\_pose = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}[\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}}];}
\DoxyCodeLine{00103             \textcolor{keyword}{const} geometry\_msgs::Point \&carrot\_point = carrot\_pose.pose.position;}
\DoxyCodeLine{00104 }
\DoxyCodeLine{00105             tf::Quaternion carrot\_orientation;}
\DoxyCodeLine{00106             tf::quaternionMsgToTF(carrot\_pose.pose.orientation, carrot\_orientation);}
\DoxyCodeLine{00107 }
\DoxyCodeLine{00108             geometry\_msgs::Pose currentPoseDebugMsg;}
\DoxyCodeLine{00109             tf::poseTFToMsg(tfpose, currentPoseDebugMsg);}
\DoxyCodeLine{00110 }
\DoxyCodeLine{00111             \textcolor{comment}{// take error from the current position to the path point}}
\DoxyCodeLine{00112             \textcolor{keywordtype}{double} dx = carrot\_point.x -\/ tfpose.getOrigin().x();}
\DoxyCodeLine{00113             \textcolor{keywordtype}{double} dy = carrot\_point.y -\/ tfpose.getOrigin().y();}
\DoxyCodeLine{00114             dist = sqrt(dx * dx + dy * dy);}
\DoxyCodeLine{00115 }
\DoxyCodeLine{00116             \textcolor{keywordtype}{double} pangle = tf::getYaw(carrot\_orientation);}
\DoxyCodeLine{00117             angular\_error = fabs(angles::shortest\_angular\_distance(pangle, angle));}
\DoxyCodeLine{00118 }
\DoxyCodeLine{00119             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] Compute carrot errors. (linear "{}} << dist << \textcolor{stringliteral}{"{})(angular "{}} << angular\_error << \textcolor{stringliteral}{"{})"{}} << std::endl}
\DoxyCodeLine{00120                                                                                       << \textcolor{stringliteral}{"{}Current carrot pose: "{}} << std::endl}
\DoxyCodeLine{00121                                                                                       << carrot\_pose << std::endl}
\DoxyCodeLine{00122                                                                                       << \textcolor{stringliteral}{"{}Current actual pose:"{}} << std::endl}
\DoxyCodeLine{00123                                                                                       << currentPoseDebugMsg);}
\DoxyCodeLine{00124         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00096}{backwards\+Plan\+Path\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8h_source_l00127}{current\+Carrot\+Pose\+Index\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00181}{divergence\+Detection\+Update()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00633}{find\+Initial\+Carrot\+Goal()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00131}{update\+Carrot\+Goal()}}.

Here is the caller graph for this function\+:
% FIG 4
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0fe2ebd23fd79e8b574127e819ef0e14}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0fe2ebd23fd79e8b574127e819ef0e14}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!computeNewPositions@{computeNewPositions}}
\index{computeNewPositions@{computeNewPositions}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{computeNewPositions()}{computeNewPositions()}}
{\footnotesize\ttfamily Eigen\+::\+Vector3f cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::compute\+New\+Positions (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Vector3f \&}]{pos,  }\item[{const Eigen\+::\+Vector3f \&}]{vel,  }\item[{double}]{dt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00862}{862}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00863         \{}
\DoxyCodeLine{00864             Eigen::Vector3f new\_pos = Eigen::Vector3f::Zero();}
\DoxyCodeLine{00865             new\_pos[0] = pos[0] + (vel[0] * cos(pos[2]) + vel[1] * cos(M\_PI\_2 + pos[2])) * dt;}
\DoxyCodeLine{00866             new\_pos[1] = pos[1] + (vel[0] * sin(pos[2]) + vel[1] * sin(M\_PI\_2 + pos[2])) * dt;}
\DoxyCodeLine{00867             new\_pos[2] = pos[2] + vel[2] * dt;}
\DoxyCodeLine{00868             \textcolor{keywordflow}{return} new\_pos;}
\DoxyCodeLine{00869         \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00800}{generate\+Trajectory()}}.

Here is the caller graph for this function\+:
% FIG 5
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a25437208766366ca22f967fe72e80988}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a25437208766366ca22f967fe72e80988}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!computeVelocityCommands@{computeVelocityCommands}}
\index{computeVelocityCommands@{computeVelocityCommands}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{computeVelocityCommands()}{computeVelocityCommands()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::compute\+Velocity\+Commands (\begin{DoxyParamCaption}\item[{geometry\+\_\+msgs\+::\+Twist \&}]{cmd\+\_\+vel }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Given the current position, orientation, and velocity of the robot\+: compute velocity commands to send to the robot mobile base. 


\begin{DoxyParams}{Parameters}
{\em cmd\+\_\+vel} & Will be filled with the velocity command to be passed to the robot base \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if a valid velocity command was found, false otherwise
\end{DoxyReturn}
\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a25437208766366ca22f967fe72e80988}{compute\+Velocity\+Commands()}} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{331}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00332         \{}
\DoxyCodeLine{00333             ROS\_DEBUG(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ LOCAL PLANNER LOOP -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/"{}});}
\DoxyCodeLine{00334             geometry\_msgs::PoseStamped paux;}
\DoxyCodeLine{00335             tf::Stamped<tf::Pose> tfpose = \mbox{\hyperlink{namespacecl__move__base__z_1_1backward__local__planner_a59f03ead7377eb9c22b83f84f0215127}{optionalRobotPose}}(\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmapRos\_}});}
\DoxyCodeLine{00336 }
\DoxyCodeLine{00337             \textcolor{comment}{//bool divergenceDetected = this-\/>divergenceDetectionUpdate(tfpose);}}
\DoxyCodeLine{00338             \textcolor{comment}{// it is not working in the pure spinning reel example, maybe the hyperplane check is enough}}
\DoxyCodeLine{00339             \textcolor{keywordtype}{bool} divergenceDetected = \textcolor{keyword}{false};}
\DoxyCodeLine{00340 }
\DoxyCodeLine{00341             \textcolor{keywordtype}{bool} emergency\_stop = \textcolor{keyword}{false};}
\DoxyCodeLine{00342             \textcolor{keywordflow}{if} (divergenceDetected)}
\DoxyCodeLine{00343             \{}
\DoxyCodeLine{00344                 ROS\_ERROR(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] Divergence detected. Sending emergency stop."{}});}
\DoxyCodeLine{00345                 emergency\_stop = \textcolor{keyword}{true};}
\DoxyCodeLine{00346             \}}
\DoxyCodeLine{00347 }
\DoxyCodeLine{00348             \textcolor{keywordtype}{bool} carrotInLinearGoalRange = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a16e79a1b4c0f18879f6f0a8ba67103fd}{updateCarrotGoal}}(tfpose);}
\DoxyCodeLine{00349             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] carrot goal created"{}});}
\DoxyCodeLine{00350 }
\DoxyCodeLine{00351             \textcolor{keywordflow}{if} (emergency\_stop)}
\DoxyCodeLine{00352             \{}
\DoxyCodeLine{00353                 cmd\_vel.linear.x = 0;}
\DoxyCodeLine{00354                 cmd\_vel.angular.z = 0;}
\DoxyCodeLine{00355                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] emergency stop, exit compute commands"{}});}
\DoxyCodeLine{00356                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00357             \}}
\DoxyCodeLine{00358 }
\DoxyCodeLine{00359             \textcolor{comment}{// -\/-\/-\/-\/-\/-\/ Evaluate the current context -\/-\/-\/-\/}}
\DoxyCodeLine{00360             \textcolor{keywordtype}{double} rho\_error, betta\_error, alpha\_error;}
\DoxyCodeLine{00361 }
\DoxyCodeLine{00362 }
\DoxyCodeLine{00363                 \textcolor{comment}{// getting carrot goal information}}
\DoxyCodeLine{00364                 tf::Quaternion q = tfpose.getRotation();}
\DoxyCodeLine{00365                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] carrot goal: "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}} << \textcolor{stringliteral}{"{}/"{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size());}
\DoxyCodeLine{00366                 \textcolor{keyword}{const} geometry\_msgs::PoseStamped \&carrotgoalpose = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}[\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}}];}
\DoxyCodeLine{00367                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] carrot goal pose current index: "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}} << \textcolor{stringliteral}{"{}/"{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size() << \textcolor{stringliteral}{"{}: "{}} << carrotgoalpose);}
\DoxyCodeLine{00368                 \textcolor{keyword}{const} geometry\_msgs::Point \&carrotGoalPosition = carrotgoalpose.pose.position;}
\DoxyCodeLine{00369 }
\DoxyCodeLine{00370                 tf::Quaternion goalQ;}
\DoxyCodeLine{00371                 tf::quaternionMsgToTF(carrotgoalpose.pose.orientation, goalQ);}
\DoxyCodeLine{00372                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] goal orientation: "{}} << goalQ);}
\DoxyCodeLine{00373 }
\DoxyCodeLine{00374                 \textcolor{comment}{//goal orientation (global frame)}}
\DoxyCodeLine{00375                 \textcolor{keywordtype}{double} betta = tf::getYaw(goalQ);}
\DoxyCodeLine{00376                 betta = betta + \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a07e5f16f6951cca1e6d3483f345d0bb1}{betta\_offset\_}};}
\DoxyCodeLine{00377 }
\DoxyCodeLine{00378                 \textcolor{keywordtype}{double} dx = carrotGoalPosition.x -\/ tfpose.getOrigin().x();}
\DoxyCodeLine{00379                 \textcolor{keywordtype}{double} dy = carrotGoalPosition.y -\/ tfpose.getOrigin().y();}
\DoxyCodeLine{00380 }
\DoxyCodeLine{00381                 \textcolor{comment}{//distance error to the targetpoint}}
\DoxyCodeLine{00382                 rho\_error = sqrt(dx * dx + dy * dy);}
\DoxyCodeLine{00383 }
\DoxyCodeLine{00384                 \textcolor{comment}{//heading to goal angle}}
\DoxyCodeLine{00385                 \textcolor{keywordtype}{double} theta = tf::getYaw(q);}
\DoxyCodeLine{00386                 \textcolor{keywordtype}{double} alpha = atan2(dy, dx);}
\DoxyCodeLine{00387                 alpha = alpha + \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a09765b08935d9355447c44776e1b1c3a}{alpha\_offset\_}};}
\DoxyCodeLine{00388 }
\DoxyCodeLine{00389                 alpha\_error = angles::shortest\_angular\_distance(alpha, theta);}
\DoxyCodeLine{00390                 betta\_error = angles::shortest\_angular\_distance(betta, theta);}
\DoxyCodeLine{00391             \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ END CONTEXT EVAL -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00392 }
\DoxyCodeLine{00393             \textcolor{keywordtype}{bool} linearGoalReached;}
\DoxyCodeLine{00394             \textcolor{keywordtype}{bool} currentPoseInGoal = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a8b84e3961a79317a9c978ec054e4a112}{checkCurrentPoseInGoalRange}}(tfpose,betta\_error, linearGoalReached);}
\DoxyCodeLine{00395 }
\DoxyCodeLine{00396             \textcolor{keywordtype}{bool} carrotInFinalGoal = carrotInLinearGoalRange \&\& \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}} == \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size() -\/ 1;}
\DoxyCodeLine{00397 }
\DoxyCodeLine{00398             \textcolor{keywordflow}{if}(currentPoseInGoal \&\& carrotInFinalGoal)}
\DoxyCodeLine{00399             \{}
\DoxyCodeLine{00400                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad443c52ef585a8eab0364f0909222f51}{goalReached\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{00401                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.clear();}
\DoxyCodeLine{00402                 ROS\_INFO\_STREAM(\textcolor{stringliteral}{"{} [BackwardLocalPlanner] GOAL REACHED. Send stop command and skipping trajectory collision: "{}} << cmd\_vel);}
\DoxyCodeLine{00403                 cmd\_vel.linear.x =0;}
\DoxyCodeLine{00404                 cmd\_vel.angular.z = 0;}
\DoxyCodeLine{00405                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00406             \}}
\DoxyCodeLine{00407 }
\DoxyCodeLine{00408             \textcolor{keywordflow}{if} (carrotInLinearGoalRange \&\& linearGoalReached) \textcolor{comment}{// we miss here and not any carrot ahead is outside goal, replacing carrotInLinearGoalRange to carrotInFinalLinearGoalRange}}
\DoxyCodeLine{00409             \{}
\DoxyCodeLine{00410                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}{inGoalPureSpinningState\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{00411             \}}
\DoxyCodeLine{00412 }
\DoxyCodeLine{00413 }
\DoxyCodeLine{00414                 \textcolor{keywordtype}{double} vetta = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}{k\_rho\_}} * rho\_error;}
\DoxyCodeLine{00415                 \textcolor{keywordtype}{double} gamma = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf7a5a56de2ee41afba7e63c0628ec35}{k\_alpha\_}} * alpha\_error + \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\_betta\_}} * betta\_error;}
\DoxyCodeLine{00416                 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00417 }
\DoxyCodeLine{00418                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a04febb67563add6f715051a94aed1b9b}{straightBackwardsAndPureSpinningMode\_}})}
\DoxyCodeLine{00419                 \{}
\DoxyCodeLine{00420                     this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6069866b4a3150883de3212d8e43e8f8}{straightBackwardsAndPureSpinCmd}}(tfpose, vetta, gamma, alpha\_error, betta\_error, rho\_error, cmd\_vel);}
\DoxyCodeLine{00421                 \}}
\DoxyCodeLine{00422                 \textcolor{keywordflow}{else} \textcolor{comment}{// default curved backward-\/free motion mode}}
\DoxyCodeLine{00423                 \{}
\DoxyCodeLine{00424                     \textcolor{comment}{// case B: goal position reached but orientation not yet reached. deactivate linear motion.}}
\DoxyCodeLine{00425                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}{inGoalPureSpinningState\_}})}
\DoxyCodeLine{00426                     \{}
\DoxyCodeLine{00427                         ROS\_DEBUG(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] we entered in a pure spinning state even in not pure-\/spining configuration, carrotDistanceGoalReached: \%d"{}}, carrotInLinearGoalRange);}
\DoxyCodeLine{00428                         gamma = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\_betta\_}} * betta\_error;}
\DoxyCodeLine{00429                         vetta = 0;}
\DoxyCodeLine{00430                     \}}
\DoxyCodeLine{00431 }
\DoxyCodeLine{00432                     \textcolor{comment}{//classical control to reach a goal backwards}}
\DoxyCodeLine{00433                     this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1ebd69a028a22e3573e98f89d593f97d}{defaultBackwardCmd}}(tfpose, vetta, gamma, alpha\_error, betta\_error, cmd\_vel);}
\DoxyCodeLine{00434                 \}}
\DoxyCodeLine{00435 }
\DoxyCodeLine{00436                 \textcolor{keywordflow}{if} (cmd\_vel.linear.x > \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}{max\_linear\_x\_speed\_}})}
\DoxyCodeLine{00437                 \{}
\DoxyCodeLine{00438                     cmd\_vel.linear.x = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}{max\_linear\_x\_speed\_}};}
\DoxyCodeLine{00439                 \}}
\DoxyCodeLine{00440                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cmd\_vel.linear.x < -\/\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}{max\_linear\_x\_speed\_}})}
\DoxyCodeLine{00441                 \{}
\DoxyCodeLine{00442                     cmd\_vel.linear.x = -\/\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}{max\_linear\_x\_speed\_}};}
\DoxyCodeLine{00443                 \}}
\DoxyCodeLine{00444 }
\DoxyCodeLine{00445                 \textcolor{keywordflow}{if} (cmd\_vel.angular.z > \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}{max\_angular\_z\_speed\_}})}
\DoxyCodeLine{00446                 \{}
\DoxyCodeLine{00447                     cmd\_vel.angular.z = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}{max\_angular\_z\_speed\_}};}
\DoxyCodeLine{00448                 \}}
\DoxyCodeLine{00449                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cmd\_vel.angular.z < -\/\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}{max\_angular\_z\_speed\_}})}
\DoxyCodeLine{00450                 \{}
\DoxyCodeLine{00451                     cmd\_vel.angular.z = -\/\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}{max\_angular\_z\_speed\_}};}
\DoxyCodeLine{00452                 \}}
\DoxyCodeLine{00453 }
\DoxyCodeLine{00454                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a70eaeb6cf31fd3378d9fbf9bcb975995}{publishGoalMarker}}(carrotGoalPosition.x, carrotGoalPosition.y, betta);}
\DoxyCodeLine{00455 }
\DoxyCodeLine{00456                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] local planner,"{}} << std::endl}
\DoxyCodeLine{00457                                                                          << \textcolor{stringliteral}{"{} straightAnPureSpiningMode: "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a04febb67563add6f715051a94aed1b9b}{straightBackwardsAndPureSpinningMode\_}} << std::endl}
\DoxyCodeLine{00458                                                                          << \textcolor{stringliteral}{"{} inGoalPureSpinningState: "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}{inGoalPureSpinningState\_}} << std::endl}
\DoxyCodeLine{00459                                                                          << \textcolor{stringliteral}{"{}carrotInLinearGoalRange: "{}} << carrotInLinearGoalRange << std::endl}
\DoxyCodeLine{00460                                                                          << \textcolor{stringliteral}{"{} theta: "{}} << theta << std::endl}
\DoxyCodeLine{00461                                                                          << \textcolor{stringliteral}{"{} betta: "{}} << theta << std::endl}
\DoxyCodeLine{00462                                                                          << \textcolor{stringliteral}{"{} err\_x: "{}} << dx << std::endl}
\DoxyCodeLine{00463                                                                          << \textcolor{stringliteral}{"{} err\_y:"{}} << dy << std::endl}
\DoxyCodeLine{00464                                                                          << \textcolor{stringliteral}{"{} rho\_error:"{}} << rho\_error << std::endl}
\DoxyCodeLine{00465                                                                          << \textcolor{stringliteral}{"{} alpha\_error:"{}} << alpha\_error << std::endl}
\DoxyCodeLine{00466                                                                          << \textcolor{stringliteral}{"{} betta\_error:"{}} << betta\_error << std::endl}
\DoxyCodeLine{00467                                                                          << \textcolor{stringliteral}{"{} vetta:"{}} << vetta << std::endl}
\DoxyCodeLine{00468                                                                          << \textcolor{stringliteral}{"{} gamma:"{}} << gamma << std::endl}
\DoxyCodeLine{00469                                                                          << \textcolor{stringliteral}{"{} cmd\_vel.lin.x:"{}} << cmd\_vel.linear.x << std::endl}
\DoxyCodeLine{00470                                                                          << \textcolor{stringliteral}{"{} cmd\_vel.ang.z:"{}} << cmd\_vel.angular.z);}
\DoxyCodeLine{00471 }
\DoxyCodeLine{00472                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}{inGoalPureSpinningState\_}})}
\DoxyCodeLine{00473                 \{}
\DoxyCodeLine{00474                     \textcolor{keywordtype}{bool} carrotHalfPlaneConstraintFailure = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a22938e354a4ec489101295ed7f2539f6}{checkCarrotHalfPlainConstraint}}(tfpose);}
\DoxyCodeLine{00475 }
\DoxyCodeLine{00476                     \textcolor{keywordflow}{if} (carrotHalfPlaneConstraintFailure)}
\DoxyCodeLine{00477                     \{}
\DoxyCodeLine{00478                         ROS\_ERROR(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] CarrotHalfPlaneConstraintFailure detected. Sending emergency stop and success to the planner."{}});}
\DoxyCodeLine{00479                         cmd\_vel.linear.x = 0;}
\DoxyCodeLine{00480                     \}}
\DoxyCodeLine{00481                 \}}
\DoxyCodeLine{00482 }
\DoxyCodeLine{00483 }
\DoxyCodeLine{00484             \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ TRAJECTORY PREDICTION AND COLLISION AVOIDANCE -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00485             \textcolor{comment}{//cmd\_vel.linear.x=0;}}
\DoxyCodeLine{00486             \textcolor{comment}{//cmd\_vel.angular.z = 0;}}
\DoxyCodeLine{00487             tf::Stamped<tf::Pose> global\_pose = \mbox{\hyperlink{namespacecl__move__base__z_1_1backward__local__planner_a59f03ead7377eb9c22b83f84f0215127}{optionalRobotPose}}(\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmapRos\_}});}
\DoxyCodeLine{00488 }
\DoxyCodeLine{00489             \textcolor{keyword}{auto} *costmap2d = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmapRos\_}}-\/>getCostmap();}
\DoxyCodeLine{00490             \textcolor{keyword}{auto} yaw = tf::getYaw(global\_pose.getRotation());}
\DoxyCodeLine{00491 }
\DoxyCodeLine{00492             \textcolor{keyword}{auto} \&pos = global\_pose.getOrigin();}
\DoxyCodeLine{00493 }
\DoxyCodeLine{00494             Eigen::Vector3f currentpose(pos.x(), pos.y(), yaw);}
\DoxyCodeLine{00495             Eigen::Vector3f currentvel(cmd\_vel.linear.x, cmd\_vel.linear.y, cmd\_vel.angular.z);}
\DoxyCodeLine{00496             std::vector<Eigen::Vector3f> trajectory;}
\DoxyCodeLine{00497             this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9e8921ca8ce379ca8ba321f82ca23cdc}{generateTrajectory}}(currentpose, currentvel, 0.8 \textcolor{comment}{/*meters*/}, M\_PI / 8 \textcolor{comment}{/*rads*/}, 3.0 \textcolor{comment}{/*seconds*/}, 0.05 \textcolor{comment}{/*seconds*/}, trajectory);}
\DoxyCodeLine{00498 }
\DoxyCodeLine{00499             \textcolor{comment}{// check plan rejection}}
\DoxyCodeLine{00500             \textcolor{keywordtype}{bool} acceptedLocalTrajectoryFreeOfObstacles = \textcolor{keyword}{true};}
\DoxyCodeLine{00501 }
\DoxyCodeLine{00502             uint32\_t mx, my;}
\DoxyCodeLine{00503 }
\DoxyCodeLine{00504             \textcolor{keywordflow}{if} (this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a154043366660cc02ec758dda32817511}{enable\_obstacle\_checking\_}})}
\DoxyCodeLine{00505             \{}
\DoxyCodeLine{00506                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size() > 0)}
\DoxyCodeLine{00507                 \{}
\DoxyCodeLine{00508                     \textcolor{keyword}{auto} \&finalgoalpose = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.back();}
\DoxyCodeLine{00509 }
\DoxyCodeLine{00510                     \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{00511                     \textcolor{comment}{// ROS\_INFO\_STREAM("{}lplanner goal: "{} << finalgoalpose.pose.position);}}
\DoxyCodeLine{00512                     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&p : trajectory)}
\DoxyCodeLine{00513                     \{}
\DoxyCodeLine{00514                         \textcolor{keywordtype}{float} dx = p[0] -\/ finalgoalpose.pose.position.x;}
\DoxyCodeLine{00515                         \textcolor{keywordtype}{float} dy = p[1] -\/ finalgoalpose.pose.position.y;}
\DoxyCodeLine{00516 }
\DoxyCodeLine{00517                         \textcolor{keywordtype}{float} dst = sqrt(dx * dx + dy * dy);}
\DoxyCodeLine{00518                         \textcolor{keywordflow}{if} (dst < \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_}})}
\DoxyCodeLine{00519                         \{}
\DoxyCodeLine{00520                             ROS\_DEBUG(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] trajectory simulation for collision checking: goal reached with no collision"{}});}
\DoxyCodeLine{00521                             \textcolor{keywordflow}{break};}
\DoxyCodeLine{00522                         \}}
\DoxyCodeLine{00523 }
\DoxyCodeLine{00524                         costmap2d-\/>worldToMap(p[0], p[1], mx, my);}
\DoxyCodeLine{00525                         uint64\_t cost = costmap2d-\/>getCost(mx, my);}
\DoxyCodeLine{00526 }
\DoxyCodeLine{00527                         \textcolor{comment}{// ROS\_DEBUG("{}[BackwardLocalPlanner] checking cost pt \%d [\%lf, \%lf] cell[\%d,\%d] = \%d"{}, i, p[0], p[1], mx, my, cost);}}
\DoxyCodeLine{00528                         \textcolor{comment}{// ROS\_DEBUG\_STREAM("{}[BackwardLocalPlanner] cost: "{} << cost);}}
\DoxyCodeLine{00529 }
\DoxyCodeLine{00530                         \textcolor{comment}{// static const unsigned char NO\_INFORMATION = 255;}}
\DoxyCodeLine{00531                         \textcolor{comment}{// static const unsigned char LETHAL\_OBSTACLE = 254;}}
\DoxyCodeLine{00532                         \textcolor{comment}{// static const unsigned char INSCRIBED\_INFLATED\_OBSTACLE = 253;}}
\DoxyCodeLine{00533                         \textcolor{comment}{// static const unsigned char FREE\_SPACE = 0;}}
\DoxyCodeLine{00534 }
\DoxyCodeLine{00535                         \textcolor{keywordflow}{if} (costmap2d-\/>getCost(mx, my) >= costmap\_2d::INSCRIBED\_INFLATED\_OBSTACLE)}
\DoxyCodeLine{00536                         \{}
\DoxyCodeLine{00537                             acceptedLocalTrajectoryFreeOfObstacles = \textcolor{keyword}{false};}
\DoxyCodeLine{00538                             ROS\_WARN\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] ABORTED LOCAL PLAN BECAUSE OBSTACLE DETEDTED at point "{}} << i << \textcolor{stringliteral}{"{}/"{}} << trajectory.size() << std::endl}
\DoxyCodeLine{00539                                                                                                                             << p[0] << \textcolor{stringliteral}{"{}, "{}} << p[1]);}
\DoxyCodeLine{00540                             \textcolor{keywordflow}{break};}
\DoxyCodeLine{00541                         \}}
\DoxyCodeLine{00542                         i++;}
\DoxyCodeLine{00543                     \}}
\DoxyCodeLine{00544                 \}}
\DoxyCodeLine{00545                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00546                 \{}
\DoxyCodeLine{00547                     ROS\_WARN(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] Abort local -\/ Backwards global plan size: \%ld"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size());}
\DoxyCodeLine{00548                     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00549                 \}}
\DoxyCodeLine{00550             \}}
\DoxyCodeLine{00551 }
\DoxyCodeLine{00552             \textcolor{keywordflow}{if} (acceptedLocalTrajectoryFreeOfObstacles)}
\DoxyCodeLine{00553             \{}
\DoxyCodeLine{00554                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a00849266e4bdd9379c3717e8a41c303e}{waiting\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{00555                 ROS\_DEBUG(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] accepted local trajectory free of obstacle. Local planner continues."{}});}
\DoxyCodeLine{00556                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00557             \}}
\DoxyCodeLine{00558             \textcolor{keywordflow}{else} \textcolor{comment}{// that is not appceted because existence of obstacles}}
\DoxyCodeLine{00559             \{}
\DoxyCodeLine{00560                 \textcolor{comment}{// emergency stop for collision: waiting a while before sending error}}
\DoxyCodeLine{00561                 cmd\_vel.linear.x = 0;}
\DoxyCodeLine{00562                 cmd\_vel.angular.z = 0;}
\DoxyCodeLine{00563 }
\DoxyCodeLine{00564                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a00849266e4bdd9379c3717e8a41c303e}{waiting\_}} == \textcolor{keyword}{false})}
\DoxyCodeLine{00565                 \{}
\DoxyCodeLine{00566                     \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a00849266e4bdd9379c3717e8a41c303e}{waiting\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{00567                     \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abe08faab5b784fcf64ac6b3f936459f1}{waitingStamp\_}} = ros::Time::now();}
\DoxyCodeLine{00568                     ROS\_WARN(\textcolor{stringliteral}{"{}[BackwardLocalPlanner][Not accepted local plan] starting countdown"{}});}
\DoxyCodeLine{00569                 \}}
\DoxyCodeLine{00570                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00571                 \{}
\DoxyCodeLine{00572                     \textcolor{keyword}{auto} waitingduration = ros::Time::now() -\/ \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abe08faab5b784fcf64ac6b3f936459f1}{waitingStamp\_}};}
\DoxyCodeLine{00573 }
\DoxyCodeLine{00574                     \textcolor{keywordflow}{if} (waitingduration > this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0c15da985f7f051164adb643c03a0c90}{waitingTimeout\_}})}
\DoxyCodeLine{00575                     \{}
\DoxyCodeLine{00576                         ROS\_WARN(\textcolor{stringliteral}{"{}[BackwardLocalPlanner][Abort local] timeout! duration \%lf/\%f"{}}, waitingduration.toSec(), \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0c15da985f7f051164adb643c03a0c90}{waitingTimeout\_}}.toSec());}
\DoxyCodeLine{00577                         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00578                     \}}
\DoxyCodeLine{00579                 \}}
\DoxyCodeLine{00580 }
\DoxyCodeLine{00581                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00582             \}}
\DoxyCodeLine{00583         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00113}{alpha\+\_\+offset\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00096}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00114}{betta\+\_\+offset\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00212}{check\+Carrot\+Half\+Plain\+Constraint()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00240}{check\+Current\+Pose\+In\+Goal\+Range()}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00097}{costmap\+Ros\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00127}{current\+Carrot\+Pose\+Index\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00266}{default\+Backward\+Cmd()}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00110}{enable\+\_\+obstacle\+\_\+checking\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00800}{generate\+Trajectory()}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00107}{goal\+Reached\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00111}{in\+Goal\+Pure\+Spinning\+State\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00102}{k\+\_\+alpha\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00103}{k\+\_\+betta\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00101}{k\+\_\+rho\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00124}{max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00123}{max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00317}{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::optional\+Robot\+Pose()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00876}{publish\+Goal\+Marker()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00276}{straight\+Backwards\+And\+Pure\+Spin\+Cmd()}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00109}{straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00131}{update\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00133}{waiting\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00135}{waiting\+Stamp\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00134}{waiting\+Timeout\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8h_source_l00117}{xy\+\_\+goal\+\_\+tolerance\+\_\+}}.

Here is the call graph for this function\+:
% FIG 6
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1ebd69a028a22e3573e98f89d593f97d}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1ebd69a028a22e3573e98f89d593f97d}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!defaultBackwardCmd@{defaultBackwardCmd}}
\index{defaultBackwardCmd@{defaultBackwardCmd}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{defaultBackwardCmd()}{defaultBackwardCmd()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::default\+Backward\+Cmd (\begin{DoxyParamCaption}\item[{const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{tfpose,  }\item[{double}]{vetta,  }\item[{double}]{gamma,  }\item[{double}]{alpha\+\_\+error,  }\item[{double}]{betta\+\_\+error,  }\item[{geometry\+\_\+msgs\+::\+Twist \&}]{cmd\+\_\+vel }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1ebd69a028a22e3573e98f89d593f97d}{default\+Backward\+Cmd()}} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00266}{266}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00267         \{}
\DoxyCodeLine{00268             cmd\_vel.linear.x = vetta;}
\DoxyCodeLine{00269             cmd\_vel.angular.z = gamma;}
\DoxyCodeLine{00270         \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}.

Here is the caller graph for this function\+:
% FIG 7
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab1b01ecdb27641dde60661362d75465b}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab1b01ecdb27641dde60661362d75465b}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!divergenceDetectionUpdate@{divergenceDetectionUpdate}}
\index{divergenceDetectionUpdate@{divergenceDetectionUpdate}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{divergenceDetectionUpdate()}{divergenceDetectionUpdate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::divergence\+Detection\+Update (\begin{DoxyParamCaption}\item[{const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{tfpose }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00181}{181}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00182         \{}
\DoxyCodeLine{00183             \textcolor{keywordtype}{double} disterr = 0, angleerr = 0;}
\DoxyCodeLine{00184             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}}(tfpose, disterr, angleerr);}
\DoxyCodeLine{00185 }
\DoxyCodeLine{00186             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] Divergence check. carrot goal distance. was: "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}{divergenceDetectionLastCarrotLinearDistance\_}} << \textcolor{stringliteral}{"{}, now it is: "{}} << disterr);}
\DoxyCodeLine{00187             \textcolor{keywordflow}{if} (disterr > \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}{divergenceDetectionLastCarrotLinearDistance\_}})}
\DoxyCodeLine{00188             \{}
\DoxyCodeLine{00189                 \textcolor{comment}{// candidate of divergence, we do not throw the divergence alarm yet}}
\DoxyCodeLine{00190                 \textcolor{comment}{// but we neither update the distance since it is worse than the one}}
\DoxyCodeLine{00191                 \textcolor{comment}{// we had previously with the same carrot.}}
\DoxyCodeLine{00192                 \textcolor{keyword}{const} \textcolor{keywordtype}{double} MARGIN\_FACTOR = 1.2;}
\DoxyCodeLine{00193                 \textcolor{keywordflow}{if} (disterr > MARGIN\_FACTOR * \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}{divergenceDetectionLastCarrotLinearDistance\_}})}
\DoxyCodeLine{00194                 \{}
\DoxyCodeLine{00195                     ROS\_ERROR\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] Divergence detected. The same carrot goal distance was previously: "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}{divergenceDetectionLastCarrotLinearDistance\_}} << \textcolor{stringliteral}{"{}but now it is: "{}} << disterr);}
\DoxyCodeLine{00196                     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00197                 \}}
\DoxyCodeLine{00198                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00199                 \{}
\DoxyCodeLine{00200                     \textcolor{comment}{// divergence candidate}}
\DoxyCodeLine{00201                     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00202                 \}}
\DoxyCodeLine{00203             \}}
\DoxyCodeLine{00204             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00205             \{}
\DoxyCodeLine{00206                 \textcolor{comment}{//update:}}
\DoxyCodeLine{00207                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}{divergenceDetectionLastCarrotLinearDistance\_}} = disterr;}
\DoxyCodeLine{00208                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00209             \}}
\DoxyCodeLine{00210         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8cpp_source_l00099}{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal()}}, and \mbox{\hyperlink{backward__local__planner_8h_source_l00121}{divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00760}{set\+Plan()}}.

Here is the call graph for this function\+:
% FIG 8
Here is the caller graph for this function\+:
% FIG 9
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0025cd3ffaa04a6a02492a33673a78a1}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0025cd3ffaa04a6a02492a33673a78a1}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!findInitialCarrotGoal@{findInitialCarrotGoal}}
\index{findInitialCarrotGoal@{findInitialCarrotGoal}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{findInitialCarrotGoal()}{findInitialCarrotGoal()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::find\+Initial\+Carrot\+Goal (\begin{DoxyParamCaption}\item[{tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{pose }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00633}{633}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00634         \{}
\DoxyCodeLine{00635             \textcolor{keywordtype}{double} lineardisterr, angleerr;}
\DoxyCodeLine{00636             \textcolor{keywordtype}{bool} inCarrotRange = \textcolor{keyword}{false};}
\DoxyCodeLine{00637 }
\DoxyCodeLine{00638             \textcolor{comment}{// initial state check}}
\DoxyCodeLine{00639             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}}(tfpose, lineardisterr, angleerr);}
\DoxyCodeLine{00640 }
\DoxyCodeLine{00641             \textcolor{keywordtype}{int} closestIndex = -\/1;}
\DoxyCodeLine{00642             \textcolor{keywordtype}{double} minpointdist = std::numeric\_limits<double>::max();}
\DoxyCodeLine{00643 }
\DoxyCodeLine{00644             \textcolor{comment}{// lets set the carrot-\/goal in the correct place with this loop}}
\DoxyCodeLine{00645             \textcolor{keywordflow}{while} (\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}} < \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size() \&\& !inCarrotRange)}
\DoxyCodeLine{00646             \{}
\DoxyCodeLine{00647                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}}(tfpose, lineardisterr, angleerr);}
\DoxyCodeLine{00648 }
\DoxyCodeLine{00649                 ROS\_DEBUG(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] Finding initial carrot goal i=\%d -\/ error to carrot, linear = \%lf (\%lf), angular : \%lf (\%lf)"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}}, lineardisterr, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}}, angleerr, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}});}
\DoxyCodeLine{00650 }
\DoxyCodeLine{00651                 \textcolor{comment}{// current path point is inside the carrot distance range, goal carrot tries to escape!}}
\DoxyCodeLine{00652                 \textcolor{keywordflow}{if} (lineardisterr < \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}} \&\& angleerr < \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}})}
\DoxyCodeLine{00653                 \{}
\DoxyCodeLine{00654                     ROS\_DEBUG(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] Finding initial carrot goal i=\%d -\/ in carrot Range"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}});}
\DoxyCodeLine{00655                     inCarrotRange = \textcolor{keyword}{true};}
\DoxyCodeLine{00656                     \textcolor{comment}{// we are inside the goal range}}
\DoxyCodeLine{00657                 \}}
\DoxyCodeLine{00658                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (inCarrotRange \&\& (lineardisterr > \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}} || angleerr > \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}}))}
\DoxyCodeLine{00659                 \{}
\DoxyCodeLine{00660                     \textcolor{comment}{// we were inside the carrot range but not anymore, now we are just leaving. we want to continue forward (currentCarrotPoseIndex\_++)}}
\DoxyCodeLine{00661                     \textcolor{comment}{// unless we go out of the carrot range}}
\DoxyCodeLine{00662 }
\DoxyCodeLine{00663                     \textcolor{comment}{// but we rollback last index increment (to go back inside the carrot goal scope) and start motion with that carrot goal we found}}
\DoxyCodeLine{00664                     \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}}-\/-\/;}
\DoxyCodeLine{00665                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00666                 \}}
\DoxyCodeLine{00667                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00668                 \{}
\DoxyCodeLine{00669                     ROS\_DEBUG(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] Finding initial carrot goal i=\%d -\/ carrot out of range, searching coincidence..."{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}});}
\DoxyCodeLine{00670                 \}}
\DoxyCodeLine{00671 }
\DoxyCodeLine{00672                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}}++;}
\DoxyCodeLine{00673                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] setPlan: fw"{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}});}
\DoxyCodeLine{00674             \}}
\DoxyCodeLine{00675 }
\DoxyCodeLine{00676             ROS\_INFO\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] setPlan: (found first carrot:"{}} << inCarrotRange << \textcolor{stringliteral}{"{}) initial carrot point index: "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}} << \textcolor{stringliteral}{"{}/"{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size());}
\DoxyCodeLine{00677 }
\DoxyCodeLine{00678             \textcolor{keywordflow}{return} inCarrotRange;}
\DoxyCodeLine{00679         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00096}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00120}{carrot\+\_\+angular\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00119}{carrot\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00099}{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal()}}, and \mbox{\hyperlink{backward__local__planner_8h_source_l00127}{current\+Carrot\+Pose\+Index\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00760}{set\+Plan()}}.

Here is the call graph for this function\+:
% FIG 10
Here is the caller graph for this function\+:
% FIG 11
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9e8921ca8ce379ca8ba321f82ca23cdc}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9e8921ca8ce379ca8ba321f82ca23cdc}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!generateTrajectory@{generateTrajectory}}
\index{generateTrajectory@{generateTrajectory}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{generateTrajectory()}{generateTrajectory()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::generate\+Trajectory (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Vector3f \&}]{pos,  }\item[{const Eigen\+::\+Vector3f \&}]{vel,  }\item[{float}]{maxdist,  }\item[{float}]{maxangle,  }\item[{float}]{maxtime,  }\item[{float}]{dt,  }\item[{std\+::vector$<$ Eigen\+::\+Vector3f $>$ \&}]{outtraj }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00800}{800}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00801         \{}
\DoxyCodeLine{00802             \textcolor{comment}{//simulate the trajectory and check for collisions, updating costs along the way}}
\DoxyCodeLine{00803             \textcolor{keywordtype}{bool} end = \textcolor{keyword}{false};}
\DoxyCodeLine{00804             \textcolor{keywordtype}{float} time = 0;}
\DoxyCodeLine{00805             Eigen::Vector3f currentpos = pos;}
\DoxyCodeLine{00806             \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{00807             \textcolor{keywordflow}{while} (!end)}
\DoxyCodeLine{00808             \{}
\DoxyCodeLine{00809                 \textcolor{comment}{//add the point to the trajectory so we can draw it later if we want}}
\DoxyCodeLine{00810                 \textcolor{comment}{//traj.addPoint(pos[0], pos[1], pos[2]);}}
\DoxyCodeLine{00811 }
\DoxyCodeLine{00812                 \textcolor{comment}{// if (continued\_acceleration\_) \{}}
\DoxyCodeLine{00813                 \textcolor{comment}{//   //calculate velocities}}
\DoxyCodeLine{00814                 \textcolor{comment}{//   loop\_vel = computeNewVelocities(sample\_target\_vel, loop\_vel, limits\_-\/>getAccLimits(), dt);}}
\DoxyCodeLine{00815                 \textcolor{comment}{//   //ROS\_WARN\_NAMED("{}Generator"{}, "{}Flag: \%d, Loop\_Vel \%f, \%f, \%f"{}, continued\_acceleration\_, loop\_vel[0], loop\_vel[1], loop\_vel[2]);}}
\DoxyCodeLine{00816                 \textcolor{comment}{// \}}}
\DoxyCodeLine{00817 }
\DoxyCodeLine{00818                 \textcolor{keyword}{auto} loop\_vel = vel;}
\DoxyCodeLine{00819                 \textcolor{comment}{//update the position of the robot using the velocities passed in}}
\DoxyCodeLine{00820                 \textcolor{keyword}{auto} newpos = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0fe2ebd23fd79e8b574127e819ef0e14}{computeNewPositions}}(currentpos, loop\_vel, dt);}
\DoxyCodeLine{00821 }
\DoxyCodeLine{00822                 \textcolor{keyword}{auto} dx = newpos[0] -\/ currentpos[0];}
\DoxyCodeLine{00823                 \textcolor{keyword}{auto} dy = newpos[1] -\/ currentpos[1];}
\DoxyCodeLine{00824                 \textcolor{keywordtype}{float} dist, angledist;}
\DoxyCodeLine{00825 }
\DoxyCodeLine{00826                 \textcolor{comment}{//ROS\_INFO("{}traj point \%d"{}, i);}}
\DoxyCodeLine{00827                 dist = sqrt(dx * dx + dy * dy);}
\DoxyCodeLine{00828                 \textcolor{keywordflow}{if} (dist > maxdist)}
\DoxyCodeLine{00829                 \{}
\DoxyCodeLine{00830                     end = \textcolor{keyword}{true};}
\DoxyCodeLine{00831                     \textcolor{comment}{//ROS\_INFO("{}dist break: \%f"{}, dist);}}
\DoxyCodeLine{00832                 \}}
\DoxyCodeLine{00833                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00834                 \{}
\DoxyCodeLine{00835                     \textcolor{comment}{// ouble from, double to}}
\DoxyCodeLine{00836                     angledist = angles::shortest\_angular\_distance(currentpos[2], newpos[2]);}
\DoxyCodeLine{00837                     \textcolor{keywordflow}{if} (angledist > maxanglediff)}
\DoxyCodeLine{00838                     \{}
\DoxyCodeLine{00839                         end = \textcolor{keyword}{true};}
\DoxyCodeLine{00840                         \textcolor{comment}{//ROS\_INFO("{}angle dist break: \%f"{}, angledist);}}
\DoxyCodeLine{00841                     \}}
\DoxyCodeLine{00842                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00843                     \{}
\DoxyCodeLine{00844                         outtraj.push\_back(newpos);}
\DoxyCodeLine{00845 }
\DoxyCodeLine{00846                         time += dt;}
\DoxyCodeLine{00847                         \textcolor{keywordflow}{if} (time > maxtime)}
\DoxyCodeLine{00848                         \{}
\DoxyCodeLine{00849                             end = \textcolor{keyword}{true};}
\DoxyCodeLine{00850                             \textcolor{comment}{//ROS\_INFO("{}time break: \%f"{}, time);}}
\DoxyCodeLine{00851                         \}}
\DoxyCodeLine{00852 }
\DoxyCodeLine{00853                         \textcolor{comment}{//ROS\_INFO("{}dist: \%f, angledist: \%f, time: \%f"{}, dist, angledist, time);}}
\DoxyCodeLine{00854                     \}}
\DoxyCodeLine{00855                 \}}
\DoxyCodeLine{00856 }
\DoxyCodeLine{00857                 currentpos = newpos;}
\DoxyCodeLine{00858                 i++;}
\DoxyCodeLine{00859             \} \textcolor{comment}{// end for simulation steps}}
\DoxyCodeLine{00860         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8cpp_source_l00862}{compute\+New\+Positions()}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}.

Here is the call graph for this function\+:
% FIG 12
Here is the caller graph for this function\+:
% FIG 13
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5c9815019cef272faed835cd8c575196}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5c9815019cef272faed835cd8c575196}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!initialize@{initialize}}
\index{initialize@{initialize}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{initialize()}{initialize()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::initialize (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{40}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00041         \{}
\DoxyCodeLine{00042             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}{k\_rho\_}} = -\/1.0;}
\DoxyCodeLine{00043             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf7a5a56de2ee41afba7e63c0628ec35}{k\_alpha\_}} = 0.5;}
\DoxyCodeLine{00044             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\_betta\_}} = -\/1.0; \textcolor{comment}{// set to zero means that orientation is not important}}
\DoxyCodeLine{00045             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}} = 0.4;}
\DoxyCodeLine{00046             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a858efacf597a3a35c97aec9ca53e5900}{linear\_mode\_rho\_error\_threshold\_}} = 0.02;}
\DoxyCodeLine{00047 }
\DoxyCodeLine{00048             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aebafa83dd5fced64dc2239919a3ab8d8}{f}} = boost::bind(\&\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a62e4783adae03ce92190d855a021b91d}{BackwardLocalPlanner::reconfigCB}}, \textcolor{keyword}{this}, \_1, \_2);}
\DoxyCodeLine{00049             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb349461ce9c4edee018dbb822a8cd9a}{paramServer\_}}.setCallback(\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aebafa83dd5fced64dc2239919a3ab8d8}{f}});}
\DoxyCodeLine{00050             this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}} = 0;}
\DoxyCodeLine{00051 }
\DoxyCodeLine{00052             ros::NodeHandle nh(\textcolor{stringliteral}{"{}\string~/BackwardLocalPlanner"{}});}
\DoxyCodeLine{00053             nh.param(\textcolor{stringliteral}{"{}pure\_spinning\_straight\_line\_mode"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a04febb67563add6f715051a94aed1b9b}{straightBackwardsAndPureSpinningMode\_}}, \textcolor{keyword}{true});}
\DoxyCodeLine{00054             nh.param(\textcolor{stringliteral}{"{}yaw\_goal\_tolerance"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}}, 0.05);}
\DoxyCodeLine{00055             nh.param(\textcolor{stringliteral}{"{}xy\_goal\_tolerance"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_}}, 0.10);}
\DoxyCodeLine{00056             nh.param(\textcolor{stringliteral}{"{}k\_rho"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}{k\_rho\_}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}{k\_rho\_}});}
\DoxyCodeLine{00057             nh.param(\textcolor{stringliteral}{"{}k\_betta"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\_betta\_}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\_betta\_}});}
\DoxyCodeLine{00058             nh.param(\textcolor{stringliteral}{"{}linear\_mode\_rho\_error\_threshold"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a858efacf597a3a35c97aec9ca53e5900}{linear\_mode\_rho\_error\_threshold\_}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a858efacf597a3a35c97aec9ca53e5900}{linear\_mode\_rho\_error\_threshold\_}});}
\DoxyCodeLine{00059 }
\DoxyCodeLine{00060             nh.param(\textcolor{stringliteral}{"{}carrot\_distance"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}});}
\DoxyCodeLine{00061             nh.param(\textcolor{stringliteral}{"{}carrot\_angular\_distance"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}});}
\DoxyCodeLine{00062             nh.param(\textcolor{stringliteral}{"{}enable\_obstacle\_checking"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a154043366660cc02ec758dda32817511}{enable\_obstacle\_checking\_}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a154043366660cc02ec758dda32817511}{enable\_obstacle\_checking\_}});}
\DoxyCodeLine{00063 }
\DoxyCodeLine{00064             nh.param(\textcolor{stringliteral}{"{}max\_linear\_x\_speed"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}{max\_linear\_x\_speed\_}}, 1.0);}
\DoxyCodeLine{00065             nh.param(\textcolor{stringliteral}{"{}max\_angular\_z\_speed"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}{max\_angular\_z\_speed\_}}, 2.0);}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067             \textcolor{comment}{// we have to do this, for example for the case we are refining the final orientation.}}
\DoxyCodeLine{00068             \textcolor{comment}{// se check at some point if the carrot is reached in "{}goal linear distance"{}, then we go into}}
\DoxyCodeLine{00069             \textcolor{comment}{// some automatic pure-\/spinning mode where we only update the orientation}}
\DoxyCodeLine{00070             \textcolor{comment}{// This means that if we reach the carrot with precision we go into pure spinning mode but we cannot}}
\DoxyCodeLine{00071             \textcolor{comment}{// leave that point (maybe this could be improved)}}
\DoxyCodeLine{00072             \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}} < \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}})}
\DoxyCodeLine{00073             \{}
\DoxyCodeLine{00074                 ROS\_WARN\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] carrot\_angular\_distance ("{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}} << \textcolor{stringliteral}{"{}) cannot be lower than yaw\_goal\_tolerance ("{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}} << \textcolor{stringliteral}{"{}) setting carrot\_angular\_distance = "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}});}
\DoxyCodeLine{00075                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}} = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}};}
\DoxyCodeLine{00076             \}}
\DoxyCodeLine{00077 }
\DoxyCodeLine{00078             \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}} < \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_}})}
\DoxyCodeLine{00079             \{}
\DoxyCodeLine{00080                 ROS\_WARN\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] carrot\_linear\_distance ("{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}} << \textcolor{stringliteral}{"{}) cannot be lower than xy\_goal\_tolerance\_ ("{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}} << \textcolor{stringliteral}{"{}) setting carrot\_angular\_distance = "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_}});}
\DoxyCodeLine{00081                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}} = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_}};}
\DoxyCodeLine{00082             \}}
\DoxyCodeLine{00083 }
\DoxyCodeLine{00084             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79f0ddfa686e2cd47bbc2f0bac9f3d4c}{goalMarkerPublisher\_}} = nh.advertise<visualization\_msgs::MarkerArray>(\textcolor{stringliteral}{"{}goal\_marker"{}}, 1);}
\DoxyCodeLine{00085             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0c15da985f7f051164adb643c03a0c90}{waitingTimeout\_}} = ros::Duration(10);}
\DoxyCodeLine{00086         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00120}{carrot\+\_\+angular\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00119}{carrot\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00127}{current\+Carrot\+Pose\+Index\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00110}{enable\+\_\+obstacle\+\_\+checking\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00094}{f}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00099}{goal\+Marker\+Publisher\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00102}{k\+\_\+alpha\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00103}{k\+\_\+betta\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00101}{k\+\_\+rho\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00105}{linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00124}{max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00123}{max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00093}{param\+Server\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00590}{reconfig\+CB()}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00109}{straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00134}{waiting\+Timeout\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00117}{xy\+\_\+goal\+\_\+tolerance\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8h_source_l00116}{yaw\+\_\+goal\+\_\+tolerance\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00034}{initialize()}}.

Here is the call graph for this function\+:
% FIG 14
Here is the caller graph for this function\+:
% FIG 15
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9a854ad7d93c5db2efda316358aa845c}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9a854ad7d93c5db2efda316358aa845c}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!initialize@{initialize}}
\index{initialize@{initialize}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{initialize()}{initialize()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::initialize (\begin{DoxyParamCaption}\item[{std\+::string}]{name,  }\item[{tf2\+\_\+ros\+::\+Buffer $\ast$}]{tf,  }\item[{costmap\+\_\+2d\+::\+Costmap2\+DROS $\ast$}]{costmap\+Ros\+\_\+ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00034}{34}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00035         \{}
\DoxyCodeLine{00036             this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmapRos\_}} = costmap\_ros;}
\DoxyCodeLine{00037             this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5c9815019cef272faed835cd8c575196}{initialize}}();}
\DoxyCodeLine{00038         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00097}{costmap\+Ros\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}.

Here is the call graph for this function\+:
% FIG 16
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae7659aa099ce5a329a9ef046dabcc599}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae7659aa099ce5a329a9ef046dabcc599}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!initialize@{initialize}}
\index{initialize@{initialize}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{initialize()}{initialize()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::initialize (\begin{DoxyParamCaption}\item[{std\+::string}]{name,  }\item[{tf\+::\+Transform\+Listener $\ast$}]{tf,  }\item[{costmap\+\_\+2d\+::\+Costmap2\+DROS $\ast$}]{costmap\+\_\+ros }\end{DoxyParamCaption})}



Constructs the local planner. 


\begin{DoxyParams}{Parameters}
{\em name} & The name to give this instance of the local planner \\
\hline
{\em tf} & A pointer to a transform listener \\
\hline
{\em costmap\+\_\+ros} & The cost map to use for assigning costs to local plans\\
\hline
\end{DoxyParams}
\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5c9815019cef272faed835cd8c575196}{initialize()}} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00093}{93}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00094         \{}
\DoxyCodeLine{00095             this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmapRos\_}} = costmap\_ros;}
\DoxyCodeLine{00096             this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5c9815019cef272faed835cd8c575196}{initialize}}();}
\DoxyCodeLine{00097         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00097}{costmap\+Ros\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}.

Here is the call graph for this function\+:
% FIG 17
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06a99e609ed31b97f765351dd6827722}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06a99e609ed31b97f765351dd6827722}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!isGoalReached@{isGoalReached}}
\index{isGoalReached@{isGoalReached}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{isGoalReached()}{isGoalReached()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::is\+Goal\+Reached (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Check if the goal pose has been achieved by the local planner. 

\begin{DoxyReturn}{Returns}
True if achieved, false otherwise
\end{DoxyReturn}
\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06a99e609ed31b97f765351dd6827722}{is\+Goal\+Reached()}} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00627}{627}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00628         \{}
\DoxyCodeLine{00629             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] isGoalReached call: "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad443c52ef585a8eab0364f0909222f51}{goalReached\_}});}
\DoxyCodeLine{00630             \textcolor{keywordflow}{return} \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad443c52ef585a8eab0364f0909222f51}{goalReached\_}};}
\DoxyCodeLine{00631         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00107}{goal\+Reached\+\_\+}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a70eaeb6cf31fd3378d9fbf9bcb975995}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a70eaeb6cf31fd3378d9fbf9bcb975995}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!publishGoalMarker@{publishGoalMarker}}
\index{publishGoalMarker@{publishGoalMarker}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{publishGoalMarker()}{publishGoalMarker()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::publish\+Goal\+Marker (\begin{DoxyParamCaption}\item[{double}]{x,  }\item[{double}]{y,  }\item[{double}]{phi }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a70eaeb6cf31fd3378d9fbf9bcb975995}{publish\+Goal\+Marker()}} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00876}{876}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00877         \{}
\DoxyCodeLine{00878             visualization\_msgs::Marker marker;}
\DoxyCodeLine{00879             marker.header.frame\_id = this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmapRos\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{00880             marker.header.stamp = ros::Time::now();}
\DoxyCodeLine{00881 }
\DoxyCodeLine{00882             marker.ns = \textcolor{stringliteral}{"{}my\_namespace2"{}};}
\DoxyCodeLine{00883             marker.id = 0;}
\DoxyCodeLine{00884             marker.type = visualization\_msgs::Marker::ARROW;}
\DoxyCodeLine{00885             marker.action = visualization\_msgs::Marker::ADD;}
\DoxyCodeLine{00886             marker.pose.orientation.w = 1;}
\DoxyCodeLine{00887 }
\DoxyCodeLine{00888             marker.scale.x = 0.05;}
\DoxyCodeLine{00889             marker.scale.y = 0.15;}
\DoxyCodeLine{00890             marker.scale.z = 0.05;}
\DoxyCodeLine{00891             marker.color.a = 1.0;}
\DoxyCodeLine{00892 }
\DoxyCodeLine{00893             marker.color.r = 1;}
\DoxyCodeLine{00894             marker.color.g = 0;}
\DoxyCodeLine{00895             marker.color.b = 0;}
\DoxyCodeLine{00896 }
\DoxyCodeLine{00897             geometry\_msgs::Point start, end;}
\DoxyCodeLine{00898             start.x = x;}
\DoxyCodeLine{00899             start.y = y;}
\DoxyCodeLine{00900 }
\DoxyCodeLine{00901             end.x = x + 0.5 * cos(phi);}
\DoxyCodeLine{00902             end.y = y + 0.5 * sin(phi);}
\DoxyCodeLine{00903 }
\DoxyCodeLine{00904             marker.points.push\_back(start);}
\DoxyCodeLine{00905             marker.points.push\_back(end);}
\DoxyCodeLine{00906 }
\DoxyCodeLine{00907             visualization\_msgs::MarkerArray ma;}
\DoxyCodeLine{00908             ma.markers.push\_back(marker);}
\DoxyCodeLine{00909 }
\DoxyCodeLine{00910             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79f0ddfa686e2cd47bbc2f0bac9f3d4c}{goalMarkerPublisher\_}}.publish(ma);}
\DoxyCodeLine{00911         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00097}{costmap\+Ros\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8h_source_l00099}{goal\+Marker\+Publisher\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}.

Here is the caller graph for this function\+:
% FIG 18
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a62e4783adae03ce92190d855a021b91d}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a62e4783adae03ce92190d855a021b91d}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!reconfigCB@{reconfigCB}}
\index{reconfigCB@{reconfigCB}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{reconfigCB()}{reconfigCB()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::reconfig\+CB (\begin{DoxyParamCaption}\item[{\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+Config \&}]{config,  }\item[{uint32\+\_\+t}]{level }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a62e4783adae03ce92190d855a021b91d}{reconfig\+CB()}} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00590}{590}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00591         \{}
\DoxyCodeLine{00592             ROS\_INFO(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] reconfigure Request"{}});}
\DoxyCodeLine{00593             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf7a5a56de2ee41afba7e63c0628ec35}{k\_alpha\_}} = config.k\_alpha;}
\DoxyCodeLine{00594             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\_betta\_}} = config.k\_betta;}
\DoxyCodeLine{00595             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}{k\_rho\_}} = config.k\_rho;}
\DoxyCodeLine{00596             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a154043366660cc02ec758dda32817511}{enable\_obstacle\_checking\_}} = config.enable\_obstacle\_checking;}
\DoxyCodeLine{00597 }
\DoxyCodeLine{00598             \textcolor{comment}{//alpha\_offset\_ = config.alpha\_offset;}}
\DoxyCodeLine{00599             \textcolor{comment}{//betta\_offset\_ = config.betta\_offset;}}
\DoxyCodeLine{00600 }
\DoxyCodeLine{00601             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}} = config.carrot\_distance;}
\DoxyCodeLine{00602             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}} = config.carrot\_angular\_distance;}
\DoxyCodeLine{00603             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_}} = config.xy\_goal\_tolerance;}
\DoxyCodeLine{00604             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}} = config.yaw\_goal\_tolerance;}
\DoxyCodeLine{00605             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a04febb67563add6f715051a94aed1b9b}{straightBackwardsAndPureSpinningMode\_}} = config.pure\_spinning\_straight\_line\_mode;}
\DoxyCodeLine{00606 }
\DoxyCodeLine{00607             \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}} < \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}})}
\DoxyCodeLine{00608             \{}
\DoxyCodeLine{00609                 ROS\_WARN\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] carrot\_angular\_distance ("{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}} << \textcolor{stringliteral}{"{}) cannot be lower than yaw\_goal\_tolerance ("{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}} << \textcolor{stringliteral}{"{}) setting carrot\_angular\_distance = "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}});}
\DoxyCodeLine{00610                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}} = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}};}
\DoxyCodeLine{00611                 config.carrot\_angular\_distance = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}};}
\DoxyCodeLine{00612             \}}
\DoxyCodeLine{00613 }
\DoxyCodeLine{00614             \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}} < \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_}})}
\DoxyCodeLine{00615             \{}
\DoxyCodeLine{00616                 ROS\_WARN\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] carrot\_linear\_distance ("{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}} << \textcolor{stringliteral}{"{}) cannot be lower than xy\_goal\_tolerance\_ ("{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}} << \textcolor{stringliteral}{"{}) setting carrot\_angular\_distance = "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_}});}
\DoxyCodeLine{00617                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}} = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_}};}
\DoxyCodeLine{00618                 config.carrot\_distance = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_}};}
\DoxyCodeLine{00619             \}}
\DoxyCodeLine{00620         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00120}{carrot\+\_\+angular\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00119}{carrot\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00110}{enable\+\_\+obstacle\+\_\+checking\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00102}{k\+\_\+alpha\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00103}{k\+\_\+betta\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00101}{k\+\_\+rho\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00109}{straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00117}{xy\+\_\+goal\+\_\+tolerance\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8h_source_l00116}{yaw\+\_\+goal\+\_\+tolerance\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}.

Here is the caller graph for this function\+:
% FIG 19
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a100fe8bdaaf89b0fa54ecf2aef0966ed}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a100fe8bdaaf89b0fa54ecf2aef0966ed}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!resamplePrecisePlan@{resamplePrecisePlan}}
\index{resamplePrecisePlan@{resamplePrecisePlan}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{resamplePrecisePlan()}{resamplePrecisePlan()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::resample\+Precise\+Plan (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00681}{681}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00682         \{}
\DoxyCodeLine{00683             \textcolor{comment}{// this algorithm is really important to have a precise carrot (linear or angular)}}
\DoxyCodeLine{00684             \textcolor{comment}{// and not being considered as a divergence from the path}}
\DoxyCodeLine{00685 }
\DoxyCodeLine{00686             ROS\_DEBUG(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] resample precise"{}});}
\DoxyCodeLine{00687             \textcolor{keywordflow}{if}(\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size() <=1)}
\DoxyCodeLine{00688             \{}
\DoxyCodeLine{00689                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] resample precise skipping, size: "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size());}
\DoxyCodeLine{00690                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00691             \}}
\DoxyCodeLine{00692 }
\DoxyCodeLine{00693             \textcolor{keywordtype}{int} counter = 0;}
\DoxyCodeLine{00694             \textcolor{keywordtype}{double} maxallowedAngularError = 0.45 * this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}}; \textcolor{comment}{// nyquist}}
\DoxyCodeLine{00695             \textcolor{keywordtype}{double} maxallowedLinearError = 0.45 * this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}};          \textcolor{comment}{// nyquist}}
\DoxyCodeLine{00696 }
\DoxyCodeLine{00697             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size() -\/ 1; i++)}
\DoxyCodeLine{00698             \{}
\DoxyCodeLine{00699                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] resample precise, check: "{}} << i);}
\DoxyCodeLine{00700                 \textcolor{keyword}{auto} \&currpose = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}[i];}
\DoxyCodeLine{00701                 \textcolor{keyword}{auto} \&nextpose = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}[i + 1];}
\DoxyCodeLine{00702 }
\DoxyCodeLine{00703                 tf::Quaternion qCurrent, qNext;}
\DoxyCodeLine{00704                 tf::quaternionMsgToTF(currpose.pose.orientation, qCurrent);}
\DoxyCodeLine{00705                 tf::quaternionMsgToTF(nextpose.pose.orientation, qNext);}
\DoxyCodeLine{00706 }
\DoxyCodeLine{00707                 \textcolor{keywordtype}{double} dx = nextpose.pose.position.x -\/ currpose.pose.position.x;}
\DoxyCodeLine{00708                 \textcolor{keywordtype}{double} dy = nextpose.pose.position.y -\/ currpose.pose.position.y;}
\DoxyCodeLine{00709                 \textcolor{keywordtype}{double} dist = sqrt(dx * dx + dy * dy);}
\DoxyCodeLine{00710 }
\DoxyCodeLine{00711                 \textcolor{keywordtype}{bool} resample = \textcolor{keyword}{false};}
\DoxyCodeLine{00712                 \textcolor{keywordflow}{if} (dist > maxallowedLinearError)}
\DoxyCodeLine{00713                 \{}
\DoxyCodeLine{00714                     ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] resampling point, linear distance:"{}} << dist << \textcolor{stringliteral}{"{}("{}} << maxallowedLinearError << \textcolor{stringliteral}{"{})"{}} << i);}
\DoxyCodeLine{00715                     resample = \textcolor{keyword}{true};}
\DoxyCodeLine{00716                 \}}
\DoxyCodeLine{00717                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00718                 \{}
\DoxyCodeLine{00719                     \textcolor{keywordtype}{double} currentAngle = tf::getYaw(qCurrent);}
\DoxyCodeLine{00720                     \textcolor{keywordtype}{double} nextAngle = tf::getYaw(qNext);}
\DoxyCodeLine{00721 }
\DoxyCodeLine{00722                     \textcolor{keywordtype}{double} angularError = fabs(angles::shortest\_angular\_distance(currentAngle, nextAngle));}
\DoxyCodeLine{00723                     \textcolor{keywordflow}{if} (angularError > maxallowedAngularError)}
\DoxyCodeLine{00724                     \{}
\DoxyCodeLine{00725                         resample = \textcolor{keyword}{true};}
\DoxyCodeLine{00726                         ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] resampling point, angular distance:"{}} << angularError << \textcolor{stringliteral}{"{}("{}} << maxallowedAngularError << \textcolor{stringliteral}{"{})"{}} << i);}
\DoxyCodeLine{00727                     \}}
\DoxyCodeLine{00728                 \}}
\DoxyCodeLine{00729 }
\DoxyCodeLine{00730                 \textcolor{keywordflow}{if} (resample)}
\DoxyCodeLine{00731                 \{}
\DoxyCodeLine{00732                     geometry\_msgs::PoseStamped pintermediate;}
\DoxyCodeLine{00733                     \textcolor{keyword}{auto} duration = nextpose.header.stamp -\/ currpose.header.stamp;}
\DoxyCodeLine{00734                     pintermediate.header.frame\_id = currpose.header.frame\_id;}
\DoxyCodeLine{00735                     pintermediate.header.stamp = currpose.header.stamp + duration *0.5;}
\DoxyCodeLine{00736 }
\DoxyCodeLine{00737                     pintermediate.pose.position.x = 0.5 * (currpose.pose.position.x + nextpose.pose.position.x);}
\DoxyCodeLine{00738                     pintermediate.pose.position.y = 0.5 * (currpose.pose.position.y + nextpose.pose.position.y);}
\DoxyCodeLine{00739                     pintermediate.pose.position.z = 0.5 * (currpose.pose.position.z + nextpose.pose.position.z);}
\DoxyCodeLine{00740                     tf::Quaternion intermediateQuat = tf::slerp(qCurrent, qNext, 0.5);}
\DoxyCodeLine{00741                     tf::quaternionTFToMsg(intermediateQuat, pintermediate.pose.orientation);}
\DoxyCodeLine{00742 }
\DoxyCodeLine{00743                     this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.insert(this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.begin() + i + 1, pintermediate);}
\DoxyCodeLine{00744 }
\DoxyCodeLine{00745                     \textcolor{comment}{// retry this point}}
\DoxyCodeLine{00746                     i-\/-\/;}
\DoxyCodeLine{00747                     counter++;}
\DoxyCodeLine{00748                 \}}
\DoxyCodeLine{00749             \}}
\DoxyCodeLine{00750 }
\DoxyCodeLine{00751             ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] End resampling. resampled:"{}} << counter << \textcolor{stringliteral}{"{} new inserted poses during precise resmapling."{}});}
\DoxyCodeLine{00752             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00753         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00096}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00120}{carrot\+\_\+angular\+\_\+distance\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8h_source_l00119}{carrot\+\_\+distance\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00760}{set\+Plan()}}.

Here is the caller graph for this function\+:
% FIG 20
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a35832ebefc43e5977e1222389244c8d3}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a35832ebefc43e5977e1222389244c8d3}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!resetDivergenceDetection@{resetDivergenceDetection}}
\index{resetDivergenceDetection@{resetDivergenceDetection}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{resetDivergenceDetection()}{resetDivergenceDetection()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::reset\+Divergence\+Detection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00174}{174}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00175         \{}
\DoxyCodeLine{00176             \textcolor{comment}{// this function should be called always the carrot is updated}}
\DoxyCodeLine{00177             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}{divergenceDetectionLastCarrotLinearDistance\_}} = std::numeric\_limits<double>::max();}
\DoxyCodeLine{00178             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00179         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00121}{divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00760}{set\+Plan()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00131}{update\+Carrot\+Goal()}}.

Here is the caller graph for this function\+:
% FIG 21
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab11a0eec45f24b5a5a3987a50427eed4}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab11a0eec45f24b5a5a3987a50427eed4}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!setPlan@{setPlan}}
\index{setPlan@{setPlan}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{setPlan()}{setPlan()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::set\+Plan (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ geometry\+\_\+msgs\+::\+Pose\+Stamped $>$ \&}]{plan }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Set the plan that the local planner is following. 


\begin{DoxyParams}{Parameters}
{\em plan} & The plan to pass to the local planner \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the plan was updated successfully, false otherwise
\end{DoxyReturn}
\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab11a0eec45f24b5a5a3987a50427eed4}{set\+Plan()}} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00760}{760}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00761         \{}
\DoxyCodeLine{00762             ROS\_INFO\_STREAM(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] setPlan: new global plan received ("{}} << plan.size() << \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00763             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa0e2b0589fce0bb228eb87751528e822}{initialPureSpinningStage\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{00764             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad443c52ef585a8eab0364f0909222f51}{goalReached\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{00765             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}} = plan;}
\DoxyCodeLine{00766             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}{inGoalPureSpinningState\_}} =\textcolor{keyword}{false};}
\DoxyCodeLine{00767 }
\DoxyCodeLine{00768             \textcolor{comment}{// find again the new carrot goal, from the destiny direction}}
\DoxyCodeLine{00769             tf::Stamped<tf::Pose> tfpose = \mbox{\hyperlink{namespacecl__move__base__z_1_1backward__local__planner_a59f03ead7377eb9c22b83f84f0215127}{optionalRobotPose}}(\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}{costmapRos\_}});}
\DoxyCodeLine{00770 }
\DoxyCodeLine{00771             geometry\_msgs::PoseStamped posestamped;}
\DoxyCodeLine{00772             tf::poseStampedTFToMsg(tfpose,posestamped);}
\DoxyCodeLine{00773             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.insert(\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.begin(), posestamped);}
\DoxyCodeLine{00774 }
\DoxyCodeLine{00775             this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a100fe8bdaaf89b0fa54ecf2aef0966ed}{resamplePrecisePlan}}();}
\DoxyCodeLine{00776 }
\DoxyCodeLine{00777             \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}} = 0;}
\DoxyCodeLine{00778             this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a35832ebefc43e5977e1222389244c8d3}{resetDivergenceDetection}}();}
\DoxyCodeLine{00779 }
\DoxyCodeLine{00780             \textcolor{keywordflow}{if} (plan.size() == 0)}
\DoxyCodeLine{00781             \{}
\DoxyCodeLine{00782                 ROS\_WARN(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] received plan without any pose"{}});}
\DoxyCodeLine{00783                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00784             \}}
\DoxyCodeLine{00785 }
\DoxyCodeLine{00786             \textcolor{keywordtype}{bool} foundInitialCarrotGoal = this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0025cd3ffaa04a6a02492a33673a78a1}{findInitialCarrotGoal}}(tfpose);}
\DoxyCodeLine{00787             \textcolor{keywordflow}{if} (!foundInitialCarrotGoal)}
\DoxyCodeLine{00788             \{}
\DoxyCodeLine{00789                 ROS\_ERROR(\textcolor{stringliteral}{"{}[BackwardLocalPlanner] new plan rejected. The initial point in the global path is too much far away from the current state (according to carrot\_distance parameter)"{}});}
\DoxyCodeLine{00790                 \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \textcolor{comment}{// in this case, the new plan broke the current execution}}
\DoxyCodeLine{00791             \}}
\DoxyCodeLine{00792             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00793             \{}
\DoxyCodeLine{00794                 this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ab1b01ecdb27641dde60661362d75465b}{divergenceDetectionUpdate}}(tfpose);}
\DoxyCodeLine{00795                 \textcolor{comment}{// SANDARD AND PREFERRED CASE ON NEW PLAN}}
\DoxyCodeLine{00796                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00797             \}}
\DoxyCodeLine{00798         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00096}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00097}{costmap\+Ros\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00127}{current\+Carrot\+Pose\+Index\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00181}{divergence\+Detection\+Update()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00633}{find\+Initial\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00107}{goal\+Reached\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00111}{in\+Goal\+Pure\+Spinning\+State\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00108}{initial\+Pure\+Spinning\+Stage\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00317}{cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::optional\+Robot\+Pose()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00681}{resample\+Precise\+Plan()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00174}{reset\+Divergence\+Detection()}}.

Here is the call graph for this function\+:
% FIG 22
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6069866b4a3150883de3212d8e43e8f8}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6069866b4a3150883de3212d8e43e8f8}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!straightBackwardsAndPureSpinCmd@{straightBackwardsAndPureSpinCmd}}
\index{straightBackwardsAndPureSpinCmd@{straightBackwardsAndPureSpinCmd}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{straightBackwardsAndPureSpinCmd()}{straightBackwardsAndPureSpinCmd()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::straight\+Backwards\+And\+Pure\+Spin\+Cmd (\begin{DoxyParamCaption}\item[{const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{tfpose,  }\item[{double}]{vetta,  }\item[{double}]{gamma,  }\item[{double}]{alpha\+\_\+error,  }\item[{double}]{betta\+\_\+error,  }\item[{double}]{rho\+\_\+error,  }\item[{geometry\+\_\+msgs\+::\+Twist \&}]{cmd\+\_\+vel }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

pure\+Spinning\+Cmd() 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00276}{276}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00277         \{}
\DoxyCodeLine{00278             \textcolor{keywordflow}{if} (rho\_error > \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a858efacf597a3a35c97aec9ca53e5900}{linear\_mode\_rho\_error\_threshold\_}}) \textcolor{comment}{// works in straight motion mode}}
\DoxyCodeLine{00279             \{}
\DoxyCodeLine{00280                 vetta = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}{k\_rho\_}} * rho\_error;}
\DoxyCodeLine{00281                 gamma = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf7a5a56de2ee41afba7e63c0628ec35}{k\_alpha\_}} * alpha\_error;}
\DoxyCodeLine{00282             \}}
\DoxyCodeLine{00283             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (fabs(betta\_error) >= this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}{yaw\_goal\_tolerance\_}}) \textcolor{comment}{// works in pure spinning mode}}
\DoxyCodeLine{00284             \{}
\DoxyCodeLine{00285                 vetta = 0;}
\DoxyCodeLine{00286                 gamma = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}{k\_betta\_}} * betta\_error;}
\DoxyCodeLine{00287             \}}
\DoxyCodeLine{00288             \textcolor{comment}{/*}}
\DoxyCodeLine{00289 \textcolor{comment}{            // THIS IS NOT TRUE, IF THE CARROT REACHES THE GOAL DOES NOT MEAN THE ROBOT IS}}
\DoxyCodeLine{00290 \textcolor{comment}{            // IN THE CORRECT POSITION}}
\DoxyCodeLine{00291 \textcolor{comment}{            else if (currentCarrotPoseIndex\_ >= backwardsPlanPath\_.size() -\/ 1)}}
\DoxyCodeLine{00292 \textcolor{comment}{            \{}}
\DoxyCodeLine{00293 \textcolor{comment}{                vetta = 0;}}
\DoxyCodeLine{00294 \textcolor{comment}{                gamma = 0;}}
\DoxyCodeLine{00295 \textcolor{comment}{                goalReached\_ = true;}}
\DoxyCodeLine{00296 \textcolor{comment}{                backwardsPlanPath\_.clear();}}
\DoxyCodeLine{00297 \textcolor{comment}{}}
\DoxyCodeLine{00298 \textcolor{comment}{                ROS\_INFO\_STREAM("{}BACKWARD LOCAL PLANNER END: Goal Reached. Stop action [rhoerror: "{} << rho\_error<<"{}]"{});}}
\DoxyCodeLine{00299 \textcolor{comment}{            \}*/}}
\DoxyCodeLine{00300 }
\DoxyCodeLine{00301             cmd\_vel.linear.x = vetta;}
\DoxyCodeLine{00302             cmd\_vel.angular.z = gamma;}
\DoxyCodeLine{00303         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00102}{k\+\_\+alpha\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00103}{k\+\_\+betta\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00101}{k\+\_\+rho\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00105}{linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8h_source_l00116}{yaw\+\_\+goal\+\_\+tolerance\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}.

Here is the caller graph for this function\+:
% FIG 23
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a16e79a1b4c0f18879f6f0a8ba67103fd}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a16e79a1b4c0f18879f6f0a8ba67103fd}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!updateCarrotGoal@{updateCarrotGoal}}
\index{updateCarrotGoal@{updateCarrotGoal}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{updateCarrotGoal()}{updateCarrotGoal()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::update\+Carrot\+Goal (\begin{DoxyParamCaption}\item[{const tf\+::\+Stamped$<$ tf\+::\+Pose $>$ \&}]{tfpose }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a16e79a1b4c0f18879f6f0a8ba67103fd}{update\+Carrot\+Goal()}} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00131}{131}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00132         \{}
\DoxyCodeLine{00133             ROS\_DEBUG(\textcolor{stringliteral}{"{}[BackwardsLocalPlanner] -\/-\/-\/ Computing carrot pose -\/-\/-\/"{}});}
\DoxyCodeLine{00134             \textcolor{keywordtype}{double} disterr = 0, angleerr = 0;}
\DoxyCodeLine{00135             \textcolor{comment}{// iterate the point from the current position and backward until reaching a new goal point in the path}}
\DoxyCodeLine{00136             \textcolor{comment}{// this algorithm among other advantages has that skip the looping with an eager global planner}}
\DoxyCodeLine{00137             \textcolor{comment}{// that recalls the same plan (the already performed part of the plan in the current pose is skipped)}}
\DoxyCodeLine{00138             \textcolor{keywordflow}{while} (\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}} < \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size())}
\DoxyCodeLine{00139             \{}
\DoxyCodeLine{00140                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}}(tfpose, disterr, angleerr);}
\DoxyCodeLine{00141 }
\DoxyCodeLine{00142                 ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardsLocalPlanner] update carrot goal: Current index: "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}} << \textcolor{stringliteral}{"{}/"{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size());}
\DoxyCodeLine{00143                 ROS\_DEBUG(\textcolor{stringliteral}{"{}[BackwardsLocalPlanner] update carrot goal: linear error \%lf, angular error: \%lf"{}}, disterr, angleerr);}
\DoxyCodeLine{00144 }
\DoxyCodeLine{00145                 \textcolor{comment}{// target pose found, goal carrot tries to escape!}}
\DoxyCodeLine{00146                 \textcolor{keywordflow}{if} (disterr < \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}{carrot\_distance\_}} \&\& angleerr < \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}{carrot\_angular\_distance\_}})}
\DoxyCodeLine{00147                 \{}
\DoxyCodeLine{00148                     \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}}++;}
\DoxyCodeLine{00149                     \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a35832ebefc43e5977e1222389244c8d3}{resetDivergenceDetection}}();}
\DoxyCodeLine{00150                     ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{}[BackwardsLocalPlanner] fw "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}} << \textcolor{stringliteral}{"{}/"{}} << \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size());}
\DoxyCodeLine{00151                 \}}
\DoxyCodeLine{00152                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{00153                 \{}
\DoxyCodeLine{00154                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00155                 \}}
\DoxyCodeLine{00156             \}}
\DoxyCodeLine{00157             \textcolor{comment}{//ROS\_DEBUG("{}[BackwardsLocalPlanner] computing angular error"{});}}
\DoxyCodeLine{00158             \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}} >= \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size() \&\& \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size() > 0)}
\DoxyCodeLine{00159             \{}
\DoxyCodeLine{00160                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}} = \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}{backwardsPlanPath\_}}.size() -\/ 1;}
\DoxyCodeLine{00161                 \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad39ba029c760fc63ea286c74b5b9b795}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}}(tfpose, disterr, angleerr);}
\DoxyCodeLine{00162             \}}
\DoxyCodeLine{00163 }
\DoxyCodeLine{00164             ROS\_DEBUG(\textcolor{stringliteral}{"{}[BackwardsLocalPlanner] Current index carrot goal: \%d"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}{currentCarrotPoseIndex\_}});}
\DoxyCodeLine{00165             ROS\_DEBUG(\textcolor{stringliteral}{"{}[BackwardsLocalPlanner] Update carrot goal: linear error  \%lf, angular error: \%lf"{}}, disterr, angleerr);}
\DoxyCodeLine{00166             \textcolor{keywordtype}{bool} carrotInGoalLinear = disterr < \mbox{\hyperlink{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}{xy\_goal\_tolerance\_}};}
\DoxyCodeLine{00167             ROS\_DEBUG(\textcolor{stringliteral}{"{}[BackwardsLocalPlanner] carrot in goal radius: \%d"{}}, carrotInGoalLinear);}
\DoxyCodeLine{00168 }
\DoxyCodeLine{00169             ROS\_DEBUG(\textcolor{stringliteral}{"{}[BackwardsLocalPlanner] -\/-\/-\/ Computing carrot pose -\/-\/-\/"{}});}
\DoxyCodeLine{00170 }
\DoxyCodeLine{00171             \textcolor{keywordflow}{return} carrotInGoalLinear;}
\DoxyCodeLine{00172         \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8h_source_l00096}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00120}{carrot\+\_\+angular\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00119}{carrot\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00099}{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8h_source_l00127}{current\+Carrot\+Pose\+Index\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00174}{reset\+Divergence\+Detection()}}, and \mbox{\hyperlink{backward__local__planner_8h_source_l00117}{xy\+\_\+goal\+\_\+tolerance\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}.

Here is the call graph for this function\+:
% FIG 24
Here is the caller graph for this function\+:
% FIG 25


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a09765b08935d9355447c44776e1b1c3a}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a09765b08935d9355447c44776e1b1c3a}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!alpha\_offset\_@{alpha\_offset\_}}
\index{alpha\_offset\_@{alpha\_offset\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{alpha\_offset\_}{alpha\_offset\_}}
{\footnotesize\ttfamily const double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::alpha\+\_\+offset\+\_\+ = M\+\_\+\+PI\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00113}{113}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad9cde5c85f782cab2ddb4030e3c3f2cf}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!backwardsPlanPath\_@{backwardsPlanPath\_}}
\index{backwardsPlanPath\_@{backwardsPlanPath\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{backwardsPlanPath\_}{backwardsPlanPath\_}}
{\footnotesize\ttfamily std\+::vector$<$geometry\+\_\+msgs\+::\+Pose\+Stamped$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::backwards\+Plan\+Path\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00096}{96}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00212}{check\+Carrot\+Half\+Plain\+Constraint()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00240}{check\+Current\+Pose\+In\+Goal\+Range()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00099}{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00633}{find\+Initial\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00681}{resample\+Precise\+Plan()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00760}{set\+Plan()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00131}{update\+Carrot\+Goal()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a07e5f16f6951cca1e6d3483f345d0bb1}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a07e5f16f6951cca1e6d3483f345d0bb1}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!betta\_offset\_@{betta\_offset\_}}
\index{betta\_offset\_@{betta\_offset\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{betta\_offset\_}{betta\_offset\_}}
{\footnotesize\ttfamily const double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::betta\+\_\+offset\+\_\+ = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00114}{114}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a63e30befa09c4a67cf55086923b760c7}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!carrot\_angular\_distance\_@{carrot\_angular\_distance\_}}
\index{carrot\_angular\_distance\_@{carrot\_angular\_distance\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{carrot\_angular\_distance\_}{carrot\_angular\_distance\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{backward__local__planner_8h_a640effbe91ae9b25d698a883a9e80d96}{rad}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::carrot\+\_\+angular\+\_\+distance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00120}{120}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00633}{find\+Initial\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00590}{reconfig\+CB()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00681}{resample\+Precise\+Plan()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00131}{update\+Carrot\+Goal()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0bbb80ce5bae865c4322869422803296}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!carrot\_distance\_@{carrot\_distance\_}}
\index{carrot\_distance\_@{carrot\_distance\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{carrot\_distance\_}{carrot\_distance\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{backward__local__planner_8h_ab6024a26b088c11b8a5218a469ae5a57}{meter}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::carrot\+\_\+distance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00119}{119}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00633}{find\+Initial\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00590}{reconfig\+CB()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00681}{resample\+Precise\+Plan()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00131}{update\+Carrot\+Goal()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a4136268882a105d9e06e173d85d5c0dc}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!costmapRos\_@{costmapRos\_}}
\index{costmapRos\_@{costmapRos\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{costmapRos\_}{costmapRos\_}}
{\footnotesize\ttfamily costmap\+\_\+2d\+::\+Costmap2\+DROS$\ast$ cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::costmap\+Ros\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00097}{97}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00034}{initialize()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00876}{publish\+Goal\+Marker()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00760}{set\+Plan()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2e8f2b78bc97f27c5fa431f3af2261ed}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!currentCarrotPoseIndex\_@{currentCarrotPoseIndex\_}}
\index{currentCarrotPoseIndex\_@{currentCarrotPoseIndex\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{currentCarrotPoseIndex\_}{currentCarrotPoseIndex\_}}
{\footnotesize\ttfamily int cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::current\+Carrot\+Pose\+Index\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00127}{127}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00212}{check\+Carrot\+Half\+Plain\+Constraint()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00099}{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00633}{find\+Initial\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00760}{set\+Plan()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00131}{update\+Carrot\+Goal()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3187b3b0c9a640133556efd056f2e736}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!divergenceDetectionLastCarrotLinearDistance\_@{divergenceDetectionLastCarrotLinearDistance\_}}
\index{divergenceDetectionLastCarrotLinearDistance\_@{divergenceDetectionLastCarrotLinearDistance\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{divergenceDetectionLastCarrotLinearDistance\_}{divergenceDetectionLastCarrotLinearDistance\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{backward__local__planner_8h_ab6024a26b088c11b8a5218a469ae5a57}{meter}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00121}{121}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00181}{divergence\+Detection\+Update()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00174}{reset\+Divergence\+Detection()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a154043366660cc02ec758dda32817511}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a154043366660cc02ec758dda32817511}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!enable\_obstacle\_checking\_@{enable\_obstacle\_checking\_}}
\index{enable\_obstacle\_checking\_@{enable\_obstacle\_checking\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{enable\_obstacle\_checking\_}{enable\_obstacle\_checking\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::enable\+\_\+obstacle\+\_\+checking\+\_\+ = true\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00110}{110}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00590}{reconfig\+CB()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aebafa83dd5fced64dc2239919a3ab8d8}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aebafa83dd5fced64dc2239919a3ab8d8}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!f@{f}}
\index{f@{f}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{f}{f}}
{\footnotesize\ttfamily dynamic\+\_\+reconfigure\+::\+Server$<$\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+Config$>$\+::\+Callback\+Type cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::f\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00094}{94}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79f0ddfa686e2cd47bbc2f0bac9f3d4c}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a79f0ddfa686e2cd47bbc2f0bac9f3d4c}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!goalMarkerPublisher\_@{goalMarkerPublisher\_}}
\index{goalMarkerPublisher\_@{goalMarkerPublisher\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{goalMarkerPublisher\_}{goalMarkerPublisher\_}}
{\footnotesize\ttfamily ros\+::\+Publisher cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::goal\+Marker\+Publisher\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00099}{99}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00876}{publish\+Goal\+Marker()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad443c52ef585a8eab0364f0909222f51}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad443c52ef585a8eab0364f0909222f51}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!goalReached\_@{goalReached\_}}
\index{goalReached\_@{goalReached\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{goalReached\_}{goalReached\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::goal\+Reached\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00107}{107}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00627}{is\+Goal\+Reached()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00760}{set\+Plan()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4d7254afd19ae1f7bd8eac9f5d58b9a}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!inGoalPureSpinningState\_@{inGoalPureSpinningState\_}}
\index{inGoalPureSpinningState\_@{inGoalPureSpinningState\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{inGoalPureSpinningState\_}{inGoalPureSpinningState\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::in\+Goal\+Pure\+Spinning\+State\+\_\+ = false\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00111}{111}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00760}{set\+Plan()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa0e2b0589fce0bb228eb87751528e822}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa0e2b0589fce0bb228eb87751528e822}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!initialPureSpinningStage\_@{initialPureSpinningStage\_}}
\index{initialPureSpinningStage\_@{initialPureSpinningStage\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{initialPureSpinningStage\_}{initialPureSpinningStage\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::initial\+Pure\+Spinning\+Stage\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00108}{108}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00760}{set\+Plan()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf7a5a56de2ee41afba7e63c0628ec35}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf7a5a56de2ee41afba7e63c0628ec35}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!k\_alpha\_@{k\_alpha\_}}
\index{k\_alpha\_@{k\_alpha\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{k\_alpha\_}{k\_alpha\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::k\+\_\+alpha\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00102}{102}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00590}{reconfig\+CB()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00276}{straight\+Backwards\+And\+Pure\+Spin\+Cmd()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9f257183d87f1d732cb7e404f09905ad}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!k\_betta\_@{k\_betta\_}}
\index{k\_betta\_@{k\_betta\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{k\_betta\_}{k\_betta\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::k\+\_\+betta\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00103}{103}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00590}{reconfig\+CB()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00276}{straight\+Backwards\+And\+Pure\+Spin\+Cmd()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ad8a36184bfb011545c751109e23d3b98}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!k\_rho\_@{k\_rho\_}}
\index{k\_rho\_@{k\_rho\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{k\_rho\_}{k\_rho\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::k\+\_\+rho\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00101}{101}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00590}{reconfig\+CB()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00276}{straight\+Backwards\+And\+Pure\+Spin\+Cmd()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a858efacf597a3a35c97aec9ca53e5900}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a858efacf597a3a35c97aec9ca53e5900}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!linear\_mode\_rho\_error\_threshold\_@{linear\_mode\_rho\_error\_threshold\_}}
\index{linear\_mode\_rho\_error\_threshold\_@{linear\_mode\_rho\_error\_threshold\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{linear\_mode\_rho\_error\_threshold\_}{linear\_mode\_rho\_error\_threshold\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00105}{105}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00276}{straight\+Backwards\+And\+Pure\+Spin\+Cmd()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_af7e492339ee2d1c90c00f6dd4cf95551}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!max\_angular\_z\_speed\_@{max\_angular\_z\_speed\_}}
\index{max\_angular\_z\_speed\_@{max\_angular\_z\_speed\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{max\_angular\_z\_speed\_}{max\_angular\_z\_speed\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00124}{124}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae4399072e9ae9cc60d8837860dc4807b}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!max\_linear\_x\_speed\_@{max\_linear\_x\_speed\_}}
\index{max\_linear\_x\_speed\_@{max\_linear\_x\_speed\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{max\_linear\_x\_speed\_}{max\_linear\_x\_speed\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00123}{123}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb349461ce9c4edee018dbb822a8cd9a}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb349461ce9c4edee018dbb822a8cd9a}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!paramServer\_@{paramServer\_}}
\index{paramServer\_@{paramServer\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{paramServer\_}{paramServer\_}}
{\footnotesize\ttfamily dynamic\+\_\+reconfigure\+::\+Server$<$\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+Config$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::param\+Server\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00093}{93}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a957d163366cfeaf20d5534a7208fc326}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a957d163366cfeaf20d5534a7208fc326}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!pure\_spinning\_allowed\_betta\_error\_@{pure\_spinning\_allowed\_betta\_error\_}}
\index{pure\_spinning\_allowed\_betta\_error\_@{pure\_spinning\_allowed\_betta\_error\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{pure\_spinning\_allowed\_betta\_error\_}{pure\_spinning\_allowed\_betta\_error\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::pure\+\_\+spinning\+\_\+allowed\+\_\+betta\+\_\+error\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00104}{104}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a04febb67563add6f715051a94aed1b9b}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a04febb67563add6f715051a94aed1b9b}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!straightBackwardsAndPureSpinningMode\_@{straightBackwardsAndPureSpinningMode\_}}
\index{straightBackwardsAndPureSpinningMode\_@{straightBackwardsAndPureSpinningMode\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{straightBackwardsAndPureSpinningMode\_}{straightBackwardsAndPureSpinningMode\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+ = false\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00109}{109}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00590}{reconfig\+CB()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a00849266e4bdd9379c3717e8a41c303e}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a00849266e4bdd9379c3717e8a41c303e}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!waiting\_@{waiting\_}}
\index{waiting\_@{waiting\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{waiting\_}{waiting\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::waiting\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00133}{133}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abe08faab5b784fcf64ac6b3f936459f1}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_abe08faab5b784fcf64ac6b3f936459f1}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!waitingStamp\_@{waitingStamp\_}}
\index{waitingStamp\_@{waitingStamp\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{waitingStamp\_}{waitingStamp\_}}
{\footnotesize\ttfamily ros\+::\+Time cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::waiting\+Stamp\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00135}{135}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0c15da985f7f051164adb643c03a0c90}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0c15da985f7f051164adb643c03a0c90}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!waitingTimeout\_@{waitingTimeout\_}}
\index{waitingTimeout\_@{waitingTimeout\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{waitingTimeout\_}{waitingTimeout\_}}
{\footnotesize\ttfamily ros\+::\+Duration cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::waiting\+Timeout\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00134}{134}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa4ec2c87947a3c08f8278eff052e7c8c}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!xy\_goal\_tolerance\_@{xy\_goal\_tolerance\_}}
\index{xy\_goal\_tolerance\_@{xy\_goal\_tolerance\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{xy\_goal\_tolerance\_}{xy\_goal\_tolerance\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::xy\+\_\+goal\+\_\+tolerance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00117}{117}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00240}{check\+Current\+Pose\+In\+Goal\+Range()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00331}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00590}{reconfig\+CB()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00131}{update\+Carrot\+Goal()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}\label{classcl__move__base__z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9c5104d328041fcde5a3c02664abad48}} 
\index{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}!yaw\_goal\_tolerance\_@{yaw\_goal\_tolerance\_}}
\index{yaw\_goal\_tolerance\_@{yaw\_goal\_tolerance\_}!cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner@{cl\_move\_base\_z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{yaw\_goal\_tolerance\_}{yaw\_goal\_tolerance\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::yaw\+\_\+goal\+\_\+tolerance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8h_source_l00116}{116}} of file \mbox{\hyperlink{backward__local__planner_8h_source}{backward\+\_\+local\+\_\+planner.\+h}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00240}{check\+Current\+Pose\+In\+Goal\+Range()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00040}{initialize()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00590}{reconfig\+CB()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00276}{straight\+Backwards\+And\+Pure\+Spin\+Cmd()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/custom\+\_\+planners/backward\+\_\+local\+\_\+planner/include/backward\+\_\+local\+\_\+planner/\mbox{\hyperlink{backward__local__planner_8h}{backward\+\_\+local\+\_\+planner.\+h}}\item 
smacc\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/custom\+\_\+planners/backward\+\_\+local\+\_\+planner/src/\mbox{\hyperlink{backward__local__planner_8cpp}{backward\+\_\+local\+\_\+planner.\+cpp}}\end{DoxyCompactItemize}
