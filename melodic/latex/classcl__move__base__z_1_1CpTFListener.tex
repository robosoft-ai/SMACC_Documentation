\hypertarget{classcl__move__base__z_1_1CpTFListener}{}\doxysection{cl\+\_\+move\+\_\+base\+\_\+z\+::Cp\+TFListener Class Reference}
\label{classcl__move__base__z_1_1CpTFListener}\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}


{\ttfamily \#include $<$cp\+\_\+tf\+\_\+listener.\+h$>$}



Inheritance diagram for cl\+\_\+move\+\_\+base\+\_\+z\+::Cp\+TFListener\+:
% FIG 0


Collaboration diagram for cl\+\_\+move\+\_\+base\+\_\+z\+::Cp\+TFListener\+:
% FIG 1
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a4379d3a0b3d67ffbb0741688bf39dda5}{Cp\+TFListener}} ()
\item 
virtual void \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a0bdf03c329aab2ea038b67e51996a515}{update}} () override
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_aad004e766d7a922129bd4b0b6320ea47}{get\+Last\+Transform}} (std\+::string \&target\+Pose\+Frame\+Name, std\+::string \&reference\+Base\+Frame, geometry\+\_\+msgs\+::\+Pose \&out)
\item 
std\+::future$<$ geometry\+\_\+msgs\+::\+Pose $>$ \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a7aac538345fefd72ed4e59abd0f52d32}{wait\+For\+Next\+Transform}} (std\+::string \&target\+Name, std\+::string \&reference\+Base\+Frame)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::mutex \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}{m\+\_\+mutex\+\_\+}}
\item 
std\+::list$<$ std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{structcl__move__base__z_1_1TfPoseTrack}{Tf\+Pose\+Track}} $>$ $>$ \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}{pose\+Tracks\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static std\+::shared\+\_\+ptr$<$ tf\+::\+Transform\+Listener $>$ \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a9a01782f5bd1ef2751b8044b2b5b3285}{tf\+Listener\+\_\+}}
\item 
static std\+::mutex \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}{listener\+Mutex\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{cp__tf__listener_8h_source_l00029}{29}} of file \mbox{\hyperlink{cp__tf__listener_8h_source}{cp\+\_\+tf\+\_\+listener.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a4379d3a0b3d67ffbb0741688bf39dda5}\label{classcl__move__base__z_1_1CpTFListener_a4379d3a0b3d67ffbb0741688bf39dda5}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!CpTFListener@{CpTFListener}}
\index{CpTFListener@{CpTFListener}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{CpTFListener()}{CpTFListener()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::\+Cp\+TFListener (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_aad004e766d7a922129bd4b0b6320ea47}\label{classcl__move__base__z_1_1CpTFListener_aad004e766d7a922129bd4b0b6320ea47}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!getLastTransform@{getLastTransform}}
\index{getLastTransform@{getLastTransform}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{getLastTransform()}{getLastTransform()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::get\+Last\+Transform (\begin{DoxyParamCaption}\item[{std\+::string \&}]{target\+Pose\+Frame\+Name,  }\item[{std\+::string \&}]{reference\+Base\+Frame,  }\item[{geometry\+\_\+msgs\+::\+Pose \&}]{out }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \mbox{\hyperlink{cp__tf__listener_8h_source_l00062}{62}} of file \mbox{\hyperlink{cp__tf__listener_8h_source}{cp\+\_\+tf\+\_\+listener.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00063         \{}
\DoxyCodeLine{00064         \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a0bdf03c329aab2ea038b67e51996a515}\label{classcl__move__base__z_1_1CpTFListener_a0bdf03c329aab2ea038b67e51996a515}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!update@{update}}
\index{update@{update}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily virtual void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsmacc_1_1ISmaccUpdatable_a84ee0520cbefdb1d412bed54650b028e}{smacc\+::\+ISmacc\+Updatable}}.



Definition at line \mbox{\hyperlink{cp__tf__listener_8h_source_l00034}{34}} of file \mbox{\hyperlink{cp__tf__listener_8h_source}{cp\+\_\+tf\+\_\+listener.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00035         \{}
\DoxyCodeLine{00036             \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\& poseTrack: \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}{poseTracks\_}})}
\DoxyCodeLine{00037             \{}
\DoxyCodeLine{00038                 tf::StampedTransform transform;}
\DoxyCodeLine{00039                 \textcolor{keywordflow}{try}}
\DoxyCodeLine{00040                 \{}
\DoxyCodeLine{00041                     \{}
\DoxyCodeLine{00042                         std::lock\_guard<std::mutex> lock(\mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}{listenerMutex\_}});}
\DoxyCodeLine{00043                         \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a9a01782f5bd1ef2751b8044b2b5b3285}{tfListener\_}}-\/>lookupTransform(poseTrack-\/>referenceBaseFrame\_,poseTrack-\/>targetPoseFrame\_,}
\DoxyCodeLine{00044                                                     ros::Time(0), transform);}
\DoxyCodeLine{00045                     \}}
\DoxyCodeLine{00046 }
\DoxyCodeLine{00047                     \{}
\DoxyCodeLine{00048                         std::lock\_guard<std::mutex> guard(\mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}{m\_mutex\_}});}
\DoxyCodeLine{00049                         tf::poseTFToMsg(transform, poseTrack-\/>pose\_.pose);}
\DoxyCodeLine{00050                         poseTrack-\/>pose\_.header.stamp = transform.stamp\_;}
\DoxyCodeLine{00051                         poseTrack-\/>pose\_.header.frame\_id = poseTrack-\/>referenceBaseFrame\_;}
\DoxyCodeLine{00052                         poseTrack-\/>isInitialized = \textcolor{keyword}{true};}
\DoxyCodeLine{00053                     \}}
\DoxyCodeLine{00054                 \}}
\DoxyCodeLine{00055                 \textcolor{keywordflow}{catch} (tf::TransformException ex)}
\DoxyCodeLine{00056                 \{}
\DoxyCodeLine{00057                     ROS\_ERROR\_STREAM\_THROTTLE(1, \textcolor{stringliteral}{"{}[Component pose] ("{}} << poseFrameName\_ << \textcolor{stringliteral}{"{}/["{}} << referenceFrame\_ << \textcolor{stringliteral}{"{}] ) is failing on pose update : "{}} << ex.what());}
\DoxyCodeLine{00058                 \}}
\DoxyCodeLine{00059             \}}
\DoxyCodeLine{00060         \}}

\end{DoxyCode}


References \mbox{\hyperlink{cp__tf__listener_8h_source_l00073}{listener\+Mutex\+\_\+}}, \mbox{\hyperlink{cp__tf__listener_8h_source_l00075}{m\+\_\+mutex\+\_\+}}, \mbox{\hyperlink{cp__tf__listener_8h_source_l00076}{pose\+Tracks\+\_\+}}, and \mbox{\hyperlink{cp__tf__listener_8h_source_l00072}{tf\+Listener\+\_\+}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a7aac538345fefd72ed4e59abd0f52d32}\label{classcl__move__base__z_1_1CpTFListener_a7aac538345fefd72ed4e59abd0f52d32}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!waitForNextTransform@{waitForNextTransform}}
\index{waitForNextTransform@{waitForNextTransform}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{waitForNextTransform()}{waitForNextTransform()}}
{\footnotesize\ttfamily std\+::future$<$ geometry\+\_\+msgs\+::\+Pose $>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::wait\+For\+Next\+Transform (\begin{DoxyParamCaption}\item[{std\+::string \&}]{target\+Name,  }\item[{std\+::string \&}]{reference\+Base\+Frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \mbox{\hyperlink{cp__tf__listener_8h_source_l00066}{66}} of file \mbox{\hyperlink{cp__tf__listener_8h_source}{cp\+\_\+tf\+\_\+listener.\+h}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00067         \{}
\DoxyCodeLine{00068             tracks\_}
\DoxyCodeLine{00069         \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}\label{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!listenerMutex\_@{listenerMutex\_}}
\index{listenerMutex\_@{listenerMutex\_}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{listenerMutex\_}{listenerMutex\_}}
{\footnotesize\ttfamily std\+::mutex cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::listener\+Mutex\+\_\+\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cp__tf__listener_8h_source_l00073}{73}} of file \mbox{\hyperlink{cp__tf__listener_8h_source}{cp\+\_\+tf\+\_\+listener.\+h}}.



Referenced by \mbox{\hyperlink{cp__tf__listener_8h_source_l00034}{update()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}\label{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!m\_mutex\_@{m\_mutex\_}}
\index{m\_mutex\_@{m\_mutex\_}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{m\_mutex\_}{m\_mutex\_}}
{\footnotesize\ttfamily std\+::mutex cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::m\+\_\+mutex\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cp__tf__listener_8h_source_l00075}{75}} of file \mbox{\hyperlink{cp__tf__listener_8h_source}{cp\+\_\+tf\+\_\+listener.\+h}}.



Referenced by \mbox{\hyperlink{cp__tf__listener_8h_source_l00034}{update()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}\label{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!poseTracks\_@{poseTracks\_}}
\index{poseTracks\_@{poseTracks\_}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{poseTracks\_}{poseTracks\_}}
{\footnotesize\ttfamily std\+::list$<$std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{structcl__move__base__z_1_1TfPoseTrack}{Tf\+Pose\+Track}}$>$ $>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::pose\+Tracks\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cp__tf__listener_8h_source_l00076}{76}} of file \mbox{\hyperlink{cp__tf__listener_8h_source}{cp\+\_\+tf\+\_\+listener.\+h}}.



Referenced by \mbox{\hyperlink{cp__tf__listener_8h_source_l00034}{update()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a9a01782f5bd1ef2751b8044b2b5b3285}\label{classcl__move__base__z_1_1CpTFListener_a9a01782f5bd1ef2751b8044b2b5b3285}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!tfListener\_@{tfListener\_}}
\index{tfListener\_@{tfListener\_}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{tfListener\_}{tfListener\_}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$tf\+::\+Transform\+Listener$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::tf\+Listener\+\_\+\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cp__tf__listener_8h_source_l00072}{72}} of file \mbox{\hyperlink{cp__tf__listener_8h_source}{cp\+\_\+tf\+\_\+listener.\+h}}.



Referenced by \mbox{\hyperlink{cp__tf__listener_8h_source_l00034}{update()}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+group\+\_\+interface\+\_\+client/include/move\+\_\+group\+\_\+interface\+\_\+client/components/\mbox{\hyperlink{cp__tf__listener_8h}{cp\+\_\+tf\+\_\+listener.\+h}}\end{DoxyCompactItemize}
