\hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source}{}\doxysection{fake\+\_\+cube\+\_\+perception\+\_\+node.\+py}
\label{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source}\index{smacc\_sm\_reference\_library/sm\_fetch\_two\_table\_whiskey\_pour/servers/fake\_cube\_perception\_node.py@{smacc\_sm\_reference\_library/sm\_fetch\_two\_table\_whiskey\_pour/servers/fake\_cube\_perception\_node.py}}
\mbox{\hyperlink{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00001}00001 \textcolor{comment}{\#!/usr/bin/python}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00002}00002 \textcolor{keyword}{import} rospy}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00003}00003 \textcolor{keyword}{from} gazebo\_msgs.msg \textcolor{keyword}{import} LinkStates}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00004}00004 \textcolor{keyword}{import} tf}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00005}00005 \textcolor{keyword}{from} moveit\_python \textcolor{keyword}{import} PlanningSceneInterface}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00006}00006 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00008}00008 \textcolor{keyword}{class }FakePerceptionNode:}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00009}\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_a6f5d90816c2222cf76bd632b5ad46457}{00009}}     \textcolor{keyword}{def }\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_a6f5d90816c2222cf76bd632b5ad46457}{\_\_init\_\_}}(self):}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00010}00010         self.\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_a9385fd4c339eeaf1ca269ef9e314bb09}{planning\_scene}} = PlanningSceneInterface(\textcolor{stringliteral}{"{}map"{}})}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00011}00011 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00012}00012         self.\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_a6f4046762e6ee49202366e4df6a2a60c}{tf\_broacaster}} = tf.TransformBroadcaster()}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00013}00013         self.\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_a8e6364816c392f5118ad16c794adc142}{tf\_listener}} = tf.TransformListener()}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00015}00015         self.\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_a6e2d7e3ce4c1808f5bf033293a2d511d}{pub}} = rospy.Subscriber(}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00016}00016             \textcolor{stringliteral}{"{}/gazebo/link\_states"{}}, LinkStates, self.\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_ac1127eae8d2eda994b22873529bd198f}{simulated\_link\_state\_callback}}\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_ac1127eae8d2eda994b22873529bd198f}{simulated\_link\_state\_callback}}\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_ac1127eae8d2eda994b22873529bd198f}{simulated\_link\_state\_callback}}\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_ac1127eae8d2eda994b22873529bd198f}{simulated\_link\_state\_callback}}, queue\_size=1}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00017}00017         )}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00019}00019         self.\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_a67b87c9f077aefedf69f3e6d9b29ea94}{update\_planning\_scene}} = \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00020}00020         self.\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_a2f5f0b4e0a1483187b2a84552df7edc1}{last\_update}} = rospy.Time.now()}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00021}00021         self.\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_a3df1532cfe1c0b4ed99346a498150c73}{update\_period}} = rospy.Duration(10)}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00022}00022         self.\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_a47eafffe4962f50c353a0a2adb9e71be}{table\_collision}} = \textcolor{keyword}{True}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00023}00023         self.\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_a5af28c647aa93cf6bb90d4228e27667f}{cube\_collision}} = \textcolor{keyword}{False}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00025}\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_ae73741e7f84f057cbf109698e70a2515}{00025}}     \textcolor{keyword}{def }\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_ae73741e7f84f057cbf109698e70a2515}{update}}(self):}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00026}00026         \textcolor{keywordflow}{pass}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00028}\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_ac1127eae8d2eda994b22873529bd198f}{00028}}     \textcolor{keyword}{def }\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_ac1127eae8d2eda994b22873529bd198f}{simulated\_link\_state\_callback}}(self, linksmsg):}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00029}00029         \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00030}00030 \textcolor{stringliteral}{        simulated link callback.}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00031}00031 \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00032}00032 \textcolor{stringliteral}{        string[] name}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00033}00033 \textcolor{stringliteral}{        geometry\_msgs/Pose[] pose}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00034}00034 \textcolor{stringliteral}{          geometry\_msgs/Point position}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00035}00035 \textcolor{stringliteral}{            float64 x}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00036}00036 \textcolor{stringliteral}{            float64 y}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00037}00037 \textcolor{stringliteral}{            float64 z}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00038}00038 \textcolor{stringliteral}{          geometry\_msgs/Quaternion orientation}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00039}00039 \textcolor{stringliteral}{            float64 x}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00040}00040 \textcolor{stringliteral}{            float64 y}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00041}00041 \textcolor{stringliteral}{            float64 z}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00042}00042 \textcolor{stringliteral}{            float64 w}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00043}00043 \textcolor{stringliteral}{        geometry\_msgs/Twist[] twist}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00044}00044 \textcolor{stringliteral}{          geometry\_msgs/Vector3 linear}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00045}00045 \textcolor{stringliteral}{            float64 x}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00046}00046 \textcolor{stringliteral}{            float64 y}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00047}00047 \textcolor{stringliteral}{            float64 z}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00048}00048 \textcolor{stringliteral}{          geometry\_msgs/Vector3 angular}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00049}00049 \textcolor{stringliteral}{            float64 x}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00050}00050 \textcolor{stringliteral}{            float64 y}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00051}00051 \textcolor{stringliteral}{            float64 z}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00052}00052 \textcolor{stringliteral}{        "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00053}00053 \textcolor{stringliteral}{        cube\_transforms = self.propagate\_link\_states\_to\_tf(linksmsg, "{}cube"{}}, \textcolor{stringliteral}{"{}cube\_"{}}, \textcolor{stringliteral}{"{}map"{}})}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00054}00054         table\_transforms = self.propagate\_link\_states\_to\_tf(linksmsg, \textcolor{stringliteral}{"{}table"{}}, \textcolor{stringliteral}{"{}table\_"{}}, \textcolor{stringliteral}{"{}map"{}})}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00055}00055 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00056}00056         elapsed = rospy.Time.now() -\/ self.last\_update}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00057}00057 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00058}00058         \textcolor{keywordflow}{if} elapsed > self.update\_period:}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00059}00059             \textcolor{comment}{\# if self.update\_planning\_scene:}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00060}00060             rospy.logdebug(\textcolor{stringliteral}{"{}updating planning scene"{}})}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00061}00061 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00062}00062             attached\_objects = self.planning\_scene.getKnownAttachedObjects()}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00063}00063             rospy.loginfo(attached\_objects)}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00064}00064 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00065}00065             \textcolor{comment}{\# self.update\_planning\_scene = False}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00066}00066             \textcolor{keywordflow}{if} self.table\_collision \textcolor{keywordflow}{and} \textcolor{stringliteral}{"{}cube\_0"{}} \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} attached\_objects:}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00067}00067                 \textcolor{keywordflow}{for} i, table\_transf \textcolor{keywordflow}{in} enumerate(table\_transforms):}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00068}00068                     \textcolor{comment}{\# self.planning\_scene.removeCollisionObject("{}table\_"{} + str(i))}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00069}00069                     thickness = 0.12}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00070}00070                     pos = table\_transf[0]}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00071}00071                     self.planning\_scene.addBox(}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00072}00072                         \textcolor{stringliteral}{"{}table\_"{}} + str(i),}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00073}00073                         1.2,}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00074}00074                         1.3,}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00075}00075                         0.001 + thickness,}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00076}00076                         pos[0],}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00077}00077                         pos[1],}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00078}00078                         0.7 -\/ thickness * 0.5,}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00079}00079                     )  \textcolor{comment}{\# 0.68}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00080}00080 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00081}00081             \textcolor{keywordflow}{if} self.cube\_collision \textcolor{keywordflow}{and} \textcolor{stringliteral}{"{}cube\_0"{}} \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} attached\_objects:}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00082}00082                 \textcolor{keywordflow}{for} i, cube\_transf \textcolor{keywordflow}{in} enumerate(cube\_transforms):}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00083}00083                     \textcolor{comment}{\# self.planning\_scene.removeCollisionObject("{}cube\_"{} + str(i))}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00084}00084                     pos = cube\_transf[0]}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00085}00085                     self.planning\_scene.addCube(\textcolor{stringliteral}{"{}cube\_"{}} + str(i), 0.06, pos[0], pos[1], pos[2])}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00086}00086                     \textcolor{comment}{\# self.cube\_collision = False}}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00087}00087 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00088}\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_aeac788f768e625ecbe445c6af105d3f8}{00088}}     \textcolor{keyword}{def }\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_aeac788f768e625ecbe445c6af105d3f8}{propagate\_link\_states\_to\_tf}}(self, linksmsg, link\_name\_filter, object\_prefix, global\_frame):}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00089}00089         filteredLinkPoses = [}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00090}00090             b \textcolor{keywordflow}{for} i, b \textcolor{keywordflow}{in} enumerate(linksmsg.pose) \textcolor{keywordflow}{if} link\_name\_filter \textcolor{keywordflow}{in} linksmsg.name[i]}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00091}00091         ]}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00092}00092 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00093}00093         transforms = []}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00094}00094         \textcolor{keywordflow}{for} i, cubepose \textcolor{keywordflow}{in} enumerate(filteredLinkPoses):}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00095}00095             quat = [}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00096}00096                 cubepose.orientation.x,}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00097}00097                 cubepose.orientation.y,}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00098}00098                 cubepose.orientation.z,}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00099}00099                 cubepose.orientation.w,}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00100}00100             ]}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00101}00101             trans = [cubepose.position.x, cubepose.position.y, cubepose.position.z]}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00102}00102             self.\mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode_a6f4046762e6ee49202366e4df6a2a60c}{tf\_broacaster}}.sendTransform(}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00103}00103                 trans, quat, rospy.Time.now(), object\_prefix + str(i), global\_frame}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00104}00104             )}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00105}00105 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00106}00106             transforms.append([trans, quat])}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00107}00107 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00108}00108         \textcolor{keywordflow}{return} transforms}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00109}00109 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00110}00110 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00111}00111 \textcolor{keywordflow}{if} \_\_name\_\_ == \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00112}00112 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00113}00113     rospy.init\_node(\textcolor{stringliteral}{"{}fake\_perception\_node"{}})}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00114}00114 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00115}00115     fpn = \mbox{\hyperlink{classfake__cube__perception__node_1_1FakePerceptionNode}{FakePerceptionNode}}()}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00116}00116 }
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00117}00117     r = rospy.Rate(10)}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00118}00118     \textcolor{keywordflow}{while} \textcolor{keywordflow}{not} rospy.is\_shutdown():}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00119}00119         fpn.update()}
\DoxyCodeLine{\Hypertarget{sm__fetch__two__table__whiskey__pour_2servers_2fake__cube__perception__node_8py_source_l00120}00120         r.sleep()}

\end{DoxyCode}
