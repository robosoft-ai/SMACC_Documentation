\hypertarget{keyboard__server__node_8py_source}{}\doxysection{keyboard\+\_\+server\+\_\+node.\+py}
\label{keyboard__server__node_8py_source}\index{smacc\_client\_library/keyboard\_client/server/keyboard\_server\_node/keyboard\_server\_node.py@{smacc\_client\_library/keyboard\_client/server/keyboard\_server\_node/keyboard\_server\_node.py}}
\mbox{\hyperlink{keyboard__server__node_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00001}\mbox{\hyperlink{namespacekeyboard__server__node}{00001}} \textcolor{comment}{\#!/usr/bin/env python}}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00002}00002 \textcolor{keyword}{import} rospy}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00003}00003 \textcolor{keyword}{from} std\_msgs.msg \textcolor{keyword}{import} UInt16}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00004}00004 }
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00005}00005 \textcolor{keyword}{import} sys}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00006}00006 \textcolor{keyword}{import} select}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00007}00007 \textcolor{keyword}{import} termios}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00008}00008 \textcolor{keyword}{import} tty}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00009}00009 }
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00011}\mbox{\hyperlink{namespacekeyboard__server__node_abe4dc127c8bdf79333dfa931e556f6f7}{00011}} \textcolor{keyword}{def }\mbox{\hyperlink{namespacekeyboard__server__node_abe4dc127c8bdf79333dfa931e556f6f7}{getKey}}():}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00012}00012     tty.setraw(sys.stdin.fileno())}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00013}00013     select.select([sys.stdin], [], [], 0)}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00014}00014     key = sys.stdin.read(1)}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00015}00015     termios.tcsetattr(sys.stdin, termios.TCSADRAIN, settings)}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00016}00016     \textcolor{keywordflow}{return} key}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00019}00019 \textcolor{keywordflow}{if} \_\_name\_\_ == \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00020}\mbox{\hyperlink{namespacekeyboard__server__node_ade1a45e58d917f8cdb07d1d54ac6bd34}{00020}}     settings = termios.tcgetattr(sys.stdin)}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00022}\mbox{\hyperlink{namespacekeyboard__server__node_acb9a153a1e2ddb5dab254f49ade8512e}{00022}}     pub = rospy.Publisher(\textcolor{stringliteral}{"{}keyboard\_unicode"{}}, UInt16, queue\_size=1)}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00023}00023     rospy.init\_node(\textcolor{stringliteral}{"{}keyboard\_node"{}})}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00025}00025     \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00026}00026         \textcolor{keywordflow}{while} 1:}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00027}\mbox{\hyperlink{namespacekeyboard__server__node_af0ebd8a9e1564ddc13a227c727602466}{00027}}             key = \mbox{\hyperlink{namespacekeyboard__server__node_abe4dc127c8bdf79333dfa931e556f6f7}{getKey}}()}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00028}00028             \textcolor{comment}{\# rospy.loginfo(type(key))}}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00029}\mbox{\hyperlink{namespacekeyboard__server__node_a555024e72f3e57503b0eebad2546fc72}{00029}}             msg = UInt16()}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00030}\mbox{\hyperlink{namespacekeyboard__server__node_abfec01745fb17e2aa813913bea03d707}{00030}}             msg.data = ord(key)}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00032}00032             pub.publish(msg)}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00033}00033 }
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00034}00034     \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} e:}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00035}00035         print(e)}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00037}00037     \textcolor{keywordflow}{finally}:}
\DoxyCodeLine{\Hypertarget{keyboard__server__node_8py_source_l00038}00038         termios.tcsetattr(sys.stdin, termios.TCSADRAIN, settings)}

\end{DoxyCode}
