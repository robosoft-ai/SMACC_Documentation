\hypertarget{battery__monitor__node_8py_source}{}\doxysection{battery\+\_\+monitor\+\_\+node.\+py}
\label{battery__monitor__node_8py_source}\index{smacc\_client\_library/battery\_monitor\_client/server/battery\_monitor\_node.py@{smacc\_client\_library/battery\_monitor\_client/server/battery\_monitor\_node.py}}
\mbox{\hyperlink{battery__monitor__node_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00001}\mbox{\hyperlink{namespacebattery__monitor__node}{00001}} \textcolor{comment}{\#!/usr/bin/env python}}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00002}00002 \textcolor{keyword}{import} rospy}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00003}00003 \textcolor{keyword}{import} numpy}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00004}00004 }
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00005}00005 \textcolor{keyword}{from} sensor\_msgs.msg \textcolor{keyword}{import} BatteryState}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00006}00006 }
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00007}00007 \textcolor{keywordflow}{if} \_\_name\_\_ == \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00008}00008     rospy.init\_node(\textcolor{stringliteral}{"{}battery\_node"{}})}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00009}\mbox{\hyperlink{namespacebattery__monitor__node_ab13957b56951b692f19d70ccac2e2511}{00009}}     pub = rospy.Publisher(\textcolor{stringliteral}{"{}battery"{}}, BatteryState, queue\_size=1)}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00010}\mbox{\hyperlink{namespacebattery__monitor__node_adb6d4f12628aa05bce6384b0f89001e4}{00010}}     tinit = rospy.Time.now().to\_time()}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00011}\mbox{\hyperlink{namespacebattery__monitor__node_a78ba7243610b635b1712c5af728edc13}{00011}}     speed = 0.05}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00012}00012 }
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00013}00013     \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00014}00014         \textcolor{keywordflow}{while} \textcolor{keywordflow}{not} rospy.is\_shutdown():}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00015}\mbox{\hyperlink{namespacebattery__monitor__node_ab1920c64448816edd4064e494275fdff}{00015}}             msg = BatteryState()}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00017}\mbox{\hyperlink{namespacebattery__monitor__node_a7a63d20d1ea461e280f4eb5b47f925cd}{00017}}             t = rospy.Time.now().to\_time()}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00018}\mbox{\hyperlink{namespacebattery__monitor__node_af3b405948a681651077c51a9bb4181bc}{00018}}             msg.charge = 10 * numpy.exp(speed * (tinit -\/ t)) -\/ 1.0}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00019}00019 }
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00020}00020             rospy.sleep(0.5)}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00021}00021             pub.publish(msg)}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00023}00023     \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} e:}
\DoxyCodeLine{\Hypertarget{battery__monitor__node_8py_source_l00024}00024         print(e)}

\end{DoxyCode}
