\hypertarget{classcl__move__group__interface_1_1CbMoveKnownState}{}\doxysection{cl\+\_\+move\+\_\+group\+\_\+interface\+::Cb\+Move\+Known\+State Class Reference}
\label{classcl__move__group__interface_1_1CbMoveKnownState}\index{cl\_move\_group\_interface::CbMoveKnownState@{cl\_move\_group\_interface::CbMoveKnownState}}


{\ttfamily \#include $<$cb\+\_\+move\+\_\+known\+\_\+state.\+h$>$}



Inheritance diagram for cl\+\_\+move\+\_\+group\+\_\+interface\+::Cb\+Move\+Known\+State\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classcl__move__group__interface_1_1CbMoveKnownState__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+group\+\_\+interface\+::Cb\+Move\+Known\+State\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveKnownState__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveKnownState_abd9a6ff0a5aa0333852f5ea1522bc932}{Cb\+Move\+Known\+State}} (std\+::string pkg, std\+::string config\+\_\+path)
\item 
virtual \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveKnownState_a50cb63899a41d9e9cee7c9af3e8160d5}{$\sim$\+Cb\+Move\+Known\+State}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::map$<$ std\+::string, double $>$ \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveKnownState_a3998d6e04560c6c4f36a3cb6f6a86780}{load\+Joint\+States\+From\+File}} (std\+::string pkg, std\+::string filepath)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{cb__move__known__state_8h_source_l00015}{15}} of file \mbox{\hyperlink{cb__move__known__state_8h_source}{cb\+\_\+move\+\_\+known\+\_\+state.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveKnownState_abd9a6ff0a5aa0333852f5ea1522bc932}\label{classcl__move__group__interface_1_1CbMoveKnownState_abd9a6ff0a5aa0333852f5ea1522bc932}} 
\index{cl\_move\_group\_interface::CbMoveKnownState@{cl\_move\_group\_interface::CbMoveKnownState}!CbMoveKnownState@{CbMoveKnownState}}
\index{CbMoveKnownState@{CbMoveKnownState}!cl\_move\_group\_interface::CbMoveKnownState@{cl\_move\_group\_interface::CbMoveKnownState}}
\doxysubsubsection{\texorpdfstring{CbMoveKnownState()}{CbMoveKnownState()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+Known\+State\+::\+Cb\+Move\+Known\+State (\begin{DoxyParamCaption}\item[{std\+::string}]{pkg,  }\item[{std\+::string}]{config\+\_\+path }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{cb__move__known__state_8cpp_source_l00015}{15}} of file \mbox{\hyperlink{cb__move__known__state_8cpp_source}{cb\+\_\+move\+\_\+known\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00016   : \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveJoints_a085919fd766e50098cbe9782de3303c6}{CbMoveJoints}}(\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveKnownState_a3998d6e04560c6c4f36a3cb6f6a86780}{loadJointStatesFromFile}}(pkg, config\_path))}
\DoxyCodeLine{00017 \{}
\DoxyCodeLine{00018 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveKnownState_a50cb63899a41d9e9cee7c9af3e8160d5}\label{classcl__move__group__interface_1_1CbMoveKnownState_a50cb63899a41d9e9cee7c9af3e8160d5}} 
\index{cl\_move\_group\_interface::CbMoveKnownState@{cl\_move\_group\_interface::CbMoveKnownState}!````~CbMoveKnownState@{$\sim$CbMoveKnownState}}
\index{````~CbMoveKnownState@{$\sim$CbMoveKnownState}!cl\_move\_group\_interface::CbMoveKnownState@{cl\_move\_group\_interface::CbMoveKnownState}}
\doxysubsubsection{\texorpdfstring{$\sim$CbMoveKnownState()}{~CbMoveKnownState()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+Known\+State\+::$\sim$\+Cb\+Move\+Known\+State (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Definition at line \mbox{\hyperlink{cb__move__known__state_8cpp_source_l00020}{20}} of file \mbox{\hyperlink{cb__move__known__state_8cpp_source}{cb\+\_\+move\+\_\+known\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00021 \{}
\DoxyCodeLine{00022 }
\DoxyCodeLine{00023 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveKnownState_a3998d6e04560c6c4f36a3cb6f6a86780}\label{classcl__move__group__interface_1_1CbMoveKnownState_a3998d6e04560c6c4f36a3cb6f6a86780}} 
\index{cl\_move\_group\_interface::CbMoveKnownState@{cl\_move\_group\_interface::CbMoveKnownState}!loadJointStatesFromFile@{loadJointStatesFromFile}}
\index{loadJointStatesFromFile@{loadJointStatesFromFile}!cl\_move\_group\_interface::CbMoveKnownState@{cl\_move\_group\_interface::CbMoveKnownState}}
\doxysubsubsection{\texorpdfstring{loadJointStatesFromFile()}{loadJointStatesFromFile()}}
{\footnotesize\ttfamily std\+::map$<$ std\+::string, double $>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+Known\+State\+::load\+Joint\+States\+From\+File (\begin{DoxyParamCaption}\item[{std\+::string}]{pkg,  }\item[{std\+::string}]{filepath }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cb__move__known__state_8cpp_source_l00027}{27}} of file \mbox{\hyperlink{cb__move__known__state_8cpp_source}{cb\+\_\+move\+\_\+known\+\_\+state.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00028 \{}
\DoxyCodeLine{00029   \textcolor{keyword}{auto} pkgpath = ros::package::getPath(pkg);}
\DoxyCodeLine{00030   std::map<std::string, double> jointStates;}
\DoxyCodeLine{00031 }
\DoxyCodeLine{00032   \textcolor{keywordflow}{if}(pkgpath == \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{00033   \{}
\DoxyCodeLine{00034     ROS\_ERROR\_STREAM(\textcolor{stringliteral}{"{}[CbMoveKnownState] package not found for the known poses file: "{}} << pkg << std::endl << \textcolor{stringliteral}{"{} [IGNORING BEHAVIOR]"{}});}
\DoxyCodeLine{00035     \textcolor{keywordflow}{return} jointStates;}
\DoxyCodeLine{00036   \}}
\DoxyCodeLine{00037 }
\DoxyCodeLine{00038   filepath =  pkgpath +\textcolor{stringliteral}{"{}/"{}} + filepath;}
\DoxyCodeLine{00039 }
\DoxyCodeLine{00040 }
\DoxyCodeLine{00041   ROS\_INFO(\textcolor{stringliteral}{"{}[CbMoveKnownState] Opening file with joint known state: \%s"{}},  filepath.c\_str());}
\DoxyCodeLine{00042 }
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044   \textcolor{keywordflow}{if}(std::experimental::filesystem::exists(filepath))}
\DoxyCodeLine{00045   \{}
\DoxyCodeLine{00046     ROS\_INFO\_STREAM(\textcolor{stringliteral}{"{}[CbMoveKnownState] known state file exists: "{}} << filepath);}
\DoxyCodeLine{00047   \}}
\DoxyCodeLine{00048   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00049   \{}
\DoxyCodeLine{00050     ROS\_ERROR\_STREAM(\textcolor{stringliteral}{"{}[CbMoveKnownState] known state file does not exists: "{}} << filepath);}
\DoxyCodeLine{00051   \}}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053   std::ifstream ifs(filepath.c\_str(), std::ifstream::in);}
\DoxyCodeLine{00054   \textcolor{keywordflow}{if} (ifs.good() == \textcolor{keyword}{false})}
\DoxyCodeLine{00055   \{}
\DoxyCodeLine{00056     ROS\_ERROR(\textcolor{stringliteral}{"{}[CbMoveKnownState] Error opening file with joint known states: \%s"{}},  filepath.c\_str());}
\DoxyCodeLine{00057     \textcolor{keywordflow}{throw} std::string(\textcolor{stringliteral}{"{}joint state files not found"{}});}
\DoxyCodeLine{00058   \}}
\DoxyCodeLine{00059 }
\DoxyCodeLine{00060   \textcolor{keywordflow}{try}}
\DoxyCodeLine{00061   \{}
\DoxyCodeLine{00062 \textcolor{preprocessor}{\#ifdef HAVE\_NEW\_YAMLCPP}}
\DoxyCodeLine{00063     YAML::Node node = YAML::Load(ifs);}
\DoxyCodeLine{00064 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00065     YAML::Parser parser(ifs);}
\DoxyCodeLine{00066     parser.GetNextDocument(node);}
\DoxyCodeLine{00067 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00068 }
\DoxyCodeLine{00069 \textcolor{preprocessor}{\#ifdef HAVE\_NEW\_YAMLCPP}}
\DoxyCodeLine{00070     \textcolor{keyword}{const} YAML::Node \&wp\_node\_tmp = node[\textcolor{stringliteral}{"{}joint\_states"{}}];}
\DoxyCodeLine{00071     \textcolor{keyword}{const} YAML::Node *wp\_node = wp\_node\_tmp ? \&wp\_node\_tmp : NULL;}
\DoxyCodeLine{00072 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00073     \textcolor{keyword}{const} YAML::Node *wp\_node = node.FindValue(\textcolor{stringliteral}{"{}waypoints"{}});}
\DoxyCodeLine{00074 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00075 }
\DoxyCodeLine{00076     \textcolor{keywordflow}{if} (wp\_node != NULL)}
\DoxyCodeLine{00077     \{}
\DoxyCodeLine{00078       \textcolor{keywordflow}{try}}
\DoxyCodeLine{00079       \{}
\DoxyCodeLine{00080         \textcolor{keywordflow}{for}(YAML::const\_iterator it=wp\_node-\/>begin();it != wp\_node-\/>end();++it)}
\DoxyCodeLine{00081         \{}
\DoxyCodeLine{00082           std::string key = it-\/>first.as<std::string>();}
\DoxyCodeLine{00083           \textcolor{keywordtype}{double} value = it-\/>second.as<\textcolor{keywordtype}{double}>();}
\DoxyCodeLine{00084           ROS\_DEBUG\_STREAM(\textcolor{stringliteral}{"{} joint -\/ "{}} << key << \textcolor{stringliteral}{"{}: "{}} << value);}
\DoxyCodeLine{00085           jointStates[key] = value;}
\DoxyCodeLine{00086         \}}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088         \textcolor{keywordflow}{return} jointStates;}
\DoxyCodeLine{00089       \}}
\DoxyCodeLine{00090       \textcolor{keywordflow}{catch}(std::exception\& ex)}
\DoxyCodeLine{00091       \{}
\DoxyCodeLine{00092         ROS\_ERROR(\textcolor{stringliteral}{"{}trying to convert to map, failed, errormsg: \%s"{}}, ex.what());}
\DoxyCodeLine{00093       \}}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095       ROS\_INFO\_STREAM(\textcolor{stringliteral}{"{}Parsed "{}} << jointStates.size() << \textcolor{stringliteral}{"{} joint entries."{}});}
\DoxyCodeLine{00096     \}}
\DoxyCodeLine{00097     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00098     \{}
\DoxyCodeLine{00099       ROS\_WARN\_STREAM(\textcolor{stringliteral}{"{}Couldn't find any jointStates in the provided yaml file."{}});}
\DoxyCodeLine{00100     \}}
\DoxyCodeLine{00101   \}}
\DoxyCodeLine{00102   \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} YAML::ParserException \&ex)}
\DoxyCodeLine{00103   \{}
\DoxyCodeLine{00104     ROS\_ERROR\_STREAM(\textcolor{stringliteral}{"{}Error loading the Waypoints YAML file. Incorrect syntax: "{}} << ex.what());}
\DoxyCodeLine{00105   \}}
\DoxyCodeLine{00106   \textcolor{keywordflow}{return} jointStates;}
\DoxyCodeLine{00107 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc\+\_\+client\+\_\+library/move\+\_\+group\+\_\+interface\+\_\+client/include/move\+\_\+group\+\_\+interface\+\_\+client/client\+\_\+behaviors/\mbox{\hyperlink{cb__move__known__state_8h}{cb\+\_\+move\+\_\+known\+\_\+state.\+h}}\item 
smacc\+\_\+client\+\_\+library/move\+\_\+group\+\_\+interface\+\_\+client/src/move\+\_\+group\+\_\+interface\+\_\+client/client\+\_\+behaviors/\mbox{\hyperlink{cb__move__known__state_8cpp}{cb\+\_\+move\+\_\+known\+\_\+state.\+cpp}}\end{DoxyCompactItemize}
